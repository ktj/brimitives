{"version":3,"sources":["node_modules/react-native/Libraries/Components/Touchable/TouchableOpacity.js"],"names":["Animated","require","Easing","NativeMethodsMixin","React","PropTypes","TimerMixin","Touchable","TouchableWithoutFeedback","createReactClass","ensurePositiveDelayProps","flattenStyle","PRESS_RETENTION_OFFSET","top","left","right","bottom","TouchableOpacity","displayName","mixins","Mixin","propTypes","activeOpacity","number","tvParallaxProperties","object","getDefaultProps","getInitialState","touchableGetInitialState","anim","Value","_getChildStyleOpacityWithDefault","componentDidMount","props","componentWillReceiveProps","nextProps","setOpacityTo","value","duration","timing","state","toValue","easing","inOut","quad","useNativeDriver","start","touchableHandleActivePressIn","e","dispatchConfig","registrationName","_opacityActive","onPressIn","touchableHandleActivePressOut","_opacityInactive","onPressOut","touchableHandlePress","onPress","touchableHandleLongPress","onLongPress","touchableGetPressRectOffset","pressRetentionOffset","touchableGetHitSlop","hitSlop","touchableGetHighlightDelayMS","delayPressIn","touchableGetLongPressDelayMS","delayLongPress","touchableGetPressOutDelayMS","delayPressOut","childStyle","style","opacity","undefined","render","accessible","accessibilityLabel","accessibilityComponentType","accessibilityTraits","nativeID","testID","onLayout","touchableHandleStartShouldSetResponder","touchableHandleResponderTerminationRequest","touchableHandleResponderGrant","touchableHandleResponderMove","touchableHandleResponderRelease","touchableHandleResponderTerminate","children","renderDebugView","color","module","exports"],"mappings":"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","file":"TouchableOpacity.js","sourceRoot":"/home/phz/workspace/brimitives/storybooks/native","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TouchableOpacity\n * @noflow\n */\n'use strict';\n\n// Note (avik): add @flow when Flow supports spread properties in propTypes\n\nvar Animated = require('Animated');\nvar Easing = require('Easing');\nvar NativeMethodsMixin = require('NativeMethodsMixin');\nvar React = require('React');\nvar PropTypes = require('prop-types');\nvar TimerMixin = require('react-timer-mixin');\nvar Touchable = require('Touchable');\nvar TouchableWithoutFeedback = require('TouchableWithoutFeedback');\n\nvar createReactClass = require('create-react-class');\nvar ensurePositiveDelayProps = require('ensurePositiveDelayProps');\nvar flattenStyle = require('flattenStyle');\n\ntype Event = Object;\n\nvar PRESS_RETENTION_OFFSET = {top: 20, left: 20, right: 20, bottom: 30};\n\n/**\n * A wrapper for making views respond properly to touches.\n * On press down, the opacity of the wrapped view is decreased, dimming it.\n *\n * Opacity is controlled by wrapping the children in an Animated.View, which is\n * added to the view hiearchy.  Be aware that this can affect layout.\n *\n * Example:\n *\n * ```\n * renderButton: function() {\n *   return (\n *     <TouchableOpacity onPress={this._onPressButton}>\n *       <Image\n *         style={styles.button}\n *         source={require('./myButton.png')}\n *       />\n *     </TouchableOpacity>\n *   );\n * },\n * ```\n */\nvar TouchableOpacity = createReactClass({\n  displayName: 'TouchableOpacity',\n  mixins: [TimerMixin, Touchable.Mixin, NativeMethodsMixin],\n\n  propTypes: {\n    ...TouchableWithoutFeedback.propTypes,\n    /**\n     * Determines what the opacity of the wrapped view should be when touch is\n     * active. Defaults to 0.2.\n     */\n    activeOpacity: PropTypes.number,\n    /**\n     * Apple TV parallax effects\n     */\n    tvParallaxProperties: PropTypes.object,\n  },\n\n  getDefaultProps: function() {\n    return {\n      activeOpacity: 0.2,\n    };\n  },\n\n  getInitialState: function() {\n    return {\n      ...this.touchableGetInitialState(),\n      anim: new Animated.Value(this._getChildStyleOpacityWithDefault()),\n    };\n  },\n\n  componentDidMount: function() {\n    ensurePositiveDelayProps(this.props);\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    ensurePositiveDelayProps(nextProps);\n  },\n\n  /**\n   * Animate the touchable to a new opacity.\n   */\n  setOpacityTo: function(value: number, duration: number) {\n    Animated.timing(\n      this.state.anim,\n      {\n        toValue: value,\n        duration: duration,\n        easing: Easing.inOut(Easing.quad),\n        useNativeDriver: true,\n      }\n    ).start();\n  },\n\n  /**\n   * `Touchable.Mixin` self callbacks. The mixin will invoke these if they are\n   * defined on your component.\n   */\n  touchableHandleActivePressIn: function(e: Event) {\n    if (e.dispatchConfig.registrationName === 'onResponderGrant') {\n      this._opacityActive(0);\n    } else {\n      this._opacityActive(150);\n    }\n    this.props.onPressIn && this.props.onPressIn(e);\n  },\n\n  touchableHandleActivePressOut: function(e: Event) {\n    this._opacityInactive(250);\n    this.props.onPressOut && this.props.onPressOut(e);\n  },\n\n  touchableHandlePress: function(e: Event) {\n    this.props.onPress && this.props.onPress(e);\n  },\n\n  touchableHandleLongPress: function(e: Event) {\n    this.props.onLongPress && this.props.onLongPress(e);\n  },\n\n  touchableGetPressRectOffset: function() {\n    return this.props.pressRetentionOffset || PRESS_RETENTION_OFFSET;\n  },\n\n  touchableGetHitSlop: function() {\n    return this.props.hitSlop;\n  },\n\n  touchableGetHighlightDelayMS: function() {\n    return this.props.delayPressIn || 0;\n  },\n\n  touchableGetLongPressDelayMS: function() {\n    return this.props.delayLongPress === 0 ? 0 :\n      this.props.delayLongPress || 500;\n  },\n\n  touchableGetPressOutDelayMS: function() {\n    return this.props.delayPressOut;\n  },\n\n  _opacityActive: function(duration: number) {\n    this.setOpacityTo(this.props.activeOpacity, duration);\n  },\n\n  _opacityInactive: function(duration: number) {\n    this.setOpacityTo(\n      this._getChildStyleOpacityWithDefault(),\n      duration\n    );\n  },\n\n  _getChildStyleOpacityWithDefault: function() {\n   var childStyle = flattenStyle(this.props.style) || {};\n   return childStyle.opacity == undefined ? 1 : childStyle.opacity;\n },\n\n  render: function() {\n    return (\n      <Animated.View\n        accessible={this.props.accessible !== false}\n        accessibilityLabel={this.props.accessibilityLabel}\n        accessibilityComponentType={this.props.accessibilityComponentType}\n        accessibilityTraits={this.props.accessibilityTraits}\n        style={[this.props.style, {opacity: this.state.anim}]}\n        nativeID={this.props.nativeID}\n        testID={this.props.testID}\n        onLayout={this.props.onLayout}\n        isTVSelectable={true}\n        tvParallaxProperties={this.props.tvParallaxProperties}\n        hitSlop={this.props.hitSlop}\n        onStartShouldSetResponder={this.touchableHandleStartShouldSetResponder}\n        onResponderTerminationRequest={this.touchableHandleResponderTerminationRequest}\n        onResponderGrant={this.touchableHandleResponderGrant}\n        onResponderMove={this.touchableHandleResponderMove}\n        onResponderRelease={this.touchableHandleResponderRelease}\n        onResponderTerminate={this.touchableHandleResponderTerminate}>\n        {this.props.children}\n        {Touchable.renderDebugView({color: 'cyan', hitSlop: this.props.hitSlop})}\n      </Animated.View>\n    );\n  },\n});\n\nmodule.exports = TouchableOpacity;\n"]}