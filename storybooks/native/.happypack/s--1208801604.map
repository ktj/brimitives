{"version":3,"sources":["node_modules/react-native/Libraries/Image/Image.android.js"],"names":["ImageResizeMode","require","ImageStylePropTypes","NativeMethodsMixin","NativeModules","React","PropTypes","ReactNativeViewAttributes","Set","StyleSheet","StyleSheetPropType","View","ViewPropTypes","ViewStylePropTypes","createReactClass","filterObject","flattenStyle","merge","requireNativeComponent","resolveAssetSource","ImageLoader","_requestId","generateRequestId","ImageViewAttributes","UIView","src","loadingIndicatorSrc","resizeMethod","resizeMode","progressiveRenderingEnabled","fadeDuration","shouldNotifyLoadEvents","ViewStyleKeys","Object","keys","ImageSpecificStyleKeys","filter","has","x","Image","displayName","propTypes","style","source","oneOfType","shape","uri","string","headers","objectOf","number","arrayOf","width","height","blurRadius","loadingIndicatorSource","bool","onLoadStart","func","onError","onLoad","onLoadEnd","testID","oneOf","statics","getSize","url","success","failure","then","sizes","catch","console","warn","prefetch","callback","requestId","prefetchImage","abortPrefetch","abortRequest","queryCache","urls","mixins","viewConfig","uiViewClassName","validAttributes","RCTView","_updateViewConfig","props","children","componentWillMount","componentWillReceiveProps","nextProps","contextTypes","isInAParentText","render","Array","isArray","sources","styles","base","nativeProps","containerStyle","val","key","imageStyle","imageProps","absoluteImage","undefined","context","create","overflow","left","right","top","bottom","position","cfg","nativeOnly","RKImage","RCTTextInlineImage","module","exports"],"mappings":"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","file":"Image.android.js","sourceRoot":"/home/phz/workspace/brimitives/storybooks/native","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Image\n * @flow\n */\n'use strict';\n\nvar ImageResizeMode = require('ImageResizeMode');\nvar ImageStylePropTypes = require('ImageStylePropTypes');\nvar NativeMethodsMixin = require('NativeMethodsMixin');\nvar NativeModules = require('NativeModules');\nvar React = require('React');\nvar PropTypes = require('prop-types');\nvar ReactNativeViewAttributes = require('ReactNativeViewAttributes');\nvar Set = require('Set');\nvar StyleSheet = require('StyleSheet');\nvar StyleSheetPropType = require('StyleSheetPropType');\nvar View = require('View');\nvar ViewPropTypes = require('ViewPropTypes');\nvar ViewStylePropTypes = require('ViewStylePropTypes');\n\nvar createReactClass = require('create-react-class');\nvar filterObject = require('fbjs/lib/filterObject');\nvar flattenStyle = require('flattenStyle');\nvar merge = require('merge');\nvar requireNativeComponent = require('requireNativeComponent');\nvar resolveAssetSource = require('resolveAssetSource');\n\nvar {\n  ImageLoader,\n} = NativeModules;\n\nlet _requestId = 1;\nfunction generateRequestId() {\n  return _requestId++;\n}\n\n/**\n * <Image> - A react component for displaying different types of images,\n * including network images, static resources, temporary local images, and\n * images from local disk, such as the camera roll.  Example usage:\n *\n *   renderImages: function() {\n *     return (\n *       <View>\n *         <Image\n *           style={styles.icon}\n *           source={require('./myIcon.png')}\n *         />\n *         <Image\n *           style={styles.logo}\n *           source={{uri: 'http://facebook.github.io/react/img/logo_og.png'}}\n *         />\n *       </View>\n *     );\n *   },\n *\n * More example code in ImageExample.js\n */\n\nvar ImageViewAttributes = merge(ReactNativeViewAttributes.UIView, {\n  src: true,\n  loadingIndicatorSrc: true,\n  resizeMethod: true,\n  resizeMode: true,\n  progressiveRenderingEnabled: true,\n  fadeDuration: true,\n  shouldNotifyLoadEvents: true,\n});\n\nvar ViewStyleKeys = new Set(Object.keys(ViewStylePropTypes));\nvar ImageSpecificStyleKeys = new Set(Object.keys(ImageStylePropTypes).filter(x => !ViewStyleKeys.has(x)));\n\nvar Image = createReactClass({\n  displayName: 'Image',\n  propTypes: {\n    ...ViewPropTypes,\n    style: StyleSheetPropType(ImageStylePropTypes),\n   /**\n     * `uri` is a string representing the resource identifier for the image, which\n     * could be an http address, a local file path, or a static image\n     * resource (which should be wrapped in the `require('./path/to/image.png')` function).\n     *\n     * `headers` is an object representing the HTTP headers to send along with the request\n     * for a remote image.\n     *\n     * This prop can also contain several remote `uri`, specified together with\n     * their width and height. The native side will then choose the best `uri` to display\n     * based on the measured size of the image container.\n     */\n    source: PropTypes.oneOfType([\n      PropTypes.shape({\n        uri: PropTypes.string,\n        headers: PropTypes.objectOf(PropTypes.string),\n      }),\n      // Opaque type returned by require('./image.jpg')\n      PropTypes.number,\n      // Multiple sources\n      PropTypes.arrayOf(\n        PropTypes.shape({\n          uri: PropTypes.string,\n          width: PropTypes.number,\n          height: PropTypes.number,\n        }))\n    ]),\n    /**\n    * blurRadius: the blur radius of the blur filter added to the image\n    */\n    blurRadius: PropTypes.number,\n    /**\n     * similarly to `source`, this property represents the resource used to render\n     * the loading indicator for the image, displayed until image is ready to be\n     * displayed, typically after when it got downloaded from network.\n     */\n    loadingIndicatorSource: PropTypes.oneOfType([\n      PropTypes.shape({\n        uri: PropTypes.string,\n      }),\n      // Opaque type returned by require('./image.jpg')\n      PropTypes.number,\n    ]),\n    progressiveRenderingEnabled: PropTypes.bool,\n    fadeDuration: PropTypes.number,\n    /**\n     * Invoked on load start\n     */\n    onLoadStart: PropTypes.func,\n    /**\n     * Invoked on load error\n     */\n    onError: PropTypes.func,\n    /**\n     * Invoked when load completes successfully\n     */\n    onLoad: PropTypes.func,\n    /**\n     * Invoked when load either succeeds or fails\n     */\n    onLoadEnd: PropTypes.func,\n    /**\n     * Used to locate this view in end-to-end tests.\n     */\n    testID: PropTypes.string,\n    /**\n     * The mechanism that should be used to resize the image when the image's dimensions\n     * differ from the image view's dimensions. Defaults to `auto`.\n     *\n     * - `auto`: Use heuristics to pick between `resize` and `scale`.\n     *\n     * - `resize`: A software operation which changes the encoded image in memory before it\n     * gets decoded. This should be used instead of `scale` when the image is much larger\n     * than the view.\n     *\n     * - `scale`: The image gets drawn downscaled or upscaled. Compared to `resize`, `scale` is\n     * faster (usually hardware accelerated) and produces higher quality images. This\n     * should be used if the image is smaller than the view. It should also be used if the\n     * image is slightly bigger than the view.\n     *\n     * More details about `resize` and `scale` can be found at http://frescolib.org/docs/resizing-rotating.html.\n     *\n     * @platform android\n     */\n    resizeMethod: PropTypes.oneOf(['auto', 'resize', 'scale']),\n    /**\n     * Determines how to resize the image when the frame doesn't match the raw\n     * image dimensions.\n     *\n     * 'cover': Scale the image uniformly (maintain the image's aspect ratio)\n     * so that both dimensions (width and height) of the image will be equal\n     * to or larger than the corresponding dimension of the view (minus padding).\n     *\n     * 'contain': Scale the image uniformly (maintain the image's aspect ratio)\n     * so that both dimensions (width and height) of the image will be equal to\n     * or less than the corresponding dimension of the view (minus padding).\n     *\n     * 'stretch': Scale width and height independently, This may change the\n     * aspect ratio of the src.\n     *\n     * 'center': Scale the image down so that it is completely visible,\n     * if bigger than the area of the view.\n     * The image will not be scaled up.\n     */\n    resizeMode: PropTypes.oneOf(['cover', 'contain', 'stretch', 'center']),\n  },\n\n  statics: {\n    resizeMode: ImageResizeMode,\n\n    getSize(\n      url: string,\n      success: (width: number, height: number) => void,\n      failure?: (error: any) => void,\n    ) {\n      return ImageLoader.getSize(url)\n        .then(function(sizes) {\n          success(sizes.width, sizes.height);\n        })\n        .catch(failure || function() {\n          console.warn('Failed to get size for image: ' + url);\n        });\n    },\n\n    /**\n     * Prefetches a remote image for later use by downloading it to the disk\n     * cache\n     */\n    prefetch(url: string, callback: ?Function) {\n      const requestId = generateRequestId();\n      callback && callback(requestId);\n      return ImageLoader.prefetchImage(url, requestId);\n    },\n\n    /**\n     * Abort prefetch request\n     */\n    abortPrefetch(requestId: number) {\n      ImageLoader.abortRequest(requestId);\n    },\n\n    /**\n     * Perform cache interrogation.\n     *\n     * @param urls the list of image URLs to check the cache for.\n     * @return a mapping from url to cache status, such as \"disk\" or \"memory\". If a requested URL is\n     *         not in the mapping, it means it's not in the cache.\n     */\n    async queryCache(urls: Array<string>): Promise<Map<string, 'memory' | 'disk'>> {\n      return await ImageLoader.queryCache(urls);\n    },\n\n    /**\n     * Resolves an asset reference into an object which has the properties `uri`, `width`,\n     * and `height`. The input may either be a number (opaque type returned by\n     * require('./foo.png')) or an `ImageSource` like { uri: '<http location || file path>' }\n     */\n    resolveAssetSource: resolveAssetSource,\n  },\n\n  mixins: [NativeMethodsMixin],\n\n  /**\n   * `NativeMethodsMixin` will look for this when invoking `setNativeProps`. We\n   * make `this` look like an actual native component class. Since it can render\n   * as 3 different native components we need to update viewConfig accordingly\n   */\n  viewConfig: {\n    uiViewClassName: 'RCTView',\n    validAttributes: ReactNativeViewAttributes.RCTView,\n  },\n\n  _updateViewConfig: function(props) {\n    if (props.children) {\n      this.viewConfig = {\n        uiViewClassName: 'RCTView',\n        validAttributes: ReactNativeViewAttributes.RCTView,\n      };\n    } else {\n      this.viewConfig = {\n        uiViewClassName: 'RCTImageView',\n        validAttributes: ImageViewAttributes,\n      };\n    }\n  },\n\n  componentWillMount: function() {\n    this._updateViewConfig(this.props);\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    this._updateViewConfig(nextProps);\n  },\n\n  contextTypes: {\n    isInAParentText: PropTypes.bool\n  },\n\n  render: function() {\n    const source = resolveAssetSource(this.props.source);\n    const loadingIndicatorSource = resolveAssetSource(this.props.loadingIndicatorSource);\n\n    // As opposed to the ios version, here we render `null` when there is no source, source.uri\n    // or source array.\n\n    if (source && source.uri === '') {\n      console.warn('source.uri should not be an empty string');\n    }\n\n    if (this.props.src) {\n      console.warn('The <Image> component requires a `source` property rather than `src`.');\n    }\n\n    if (source && (source.uri || Array.isArray(source))) {\n      let style;\n      let sources;\n      if (source.uri) {\n        const {width, height} = source;\n        style = flattenStyle([{width, height}, styles.base, this.props.style]);\n        sources = [{uri: source.uri}];\n      } else {\n        style = flattenStyle([styles.base, this.props.style]);\n        sources = source;\n      }\n\n      const {onLoadStart, onLoad, onLoadEnd, onError} = this.props;\n      const nativeProps = merge(this.props, {\n        style,\n        shouldNotifyLoadEvents: !!(onLoadStart || onLoad || onLoadEnd || onError),\n        src: sources,\n        headers: source.headers,\n        loadingIndicatorSrc: loadingIndicatorSource ? loadingIndicatorSource.uri : null,\n      });\n\n      if (nativeProps.children) {\n        // TODO(6033040): Consider implementing this as a separate native component\n        const containerStyle = filterObject(style, (val, key) => !ImageSpecificStyleKeys.has(key));\n        const imageStyle = filterObject(style, (val, key) => ImageSpecificStyleKeys.has(key));\n        const imageProps = merge(nativeProps, {\n          style: [imageStyle, styles.absoluteImage],\n          children: undefined,\n        });\n\n        return (\n          <View style={containerStyle}>\n            <RKImage {...imageProps}/>\n            {this.props.children}\n          </View>\n        );\n      } else {\n        if (this.context.isInAParentText) {\n          return <RCTTextInlineImage {...nativeProps}/>;\n        } else {\n          return <RKImage {...nativeProps}/>;\n        }\n      }\n    }\n    return null;\n  }\n});\n\nvar styles = StyleSheet.create({\n  base: {\n    overflow: 'hidden',\n  },\n  absoluteImage: {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    position: 'absolute'\n  }\n});\n\nvar cfg = {\n  nativeOnly: {\n    src: true,\n    headers: true,\n    loadingIndicatorSrc: true,\n    shouldNotifyLoadEvents: true,\n  },\n};\nvar RKImage = requireNativeComponent('RCTImageView', Image, cfg);\nvar RCTTextInlineImage = requireNativeComponent('RCTTextInlineImage', Image, cfg);\n\nmodule.exports = Image;\n"]}