{"version":3,"sources":["node_modules/react-native/Libraries/Alert/AlertIOS.js"],"names":["RCTAlertManager","require","AlertManager","AlertIOS","title","message","callbackOrButtons","type","console","warn","prompt","defaultValue","keyboardType","callback","alertWithArgs","undefined","id","value","callbacks","buttons","cancelButtonKey","destructiveButtonKey","Array","forEach","btn","index","onPress","style","String","text","length","btnDef","push","cb","module","exports"],"mappings":";;;;;;;;;;;;AAYA,a;;AAEA,GAAIA,iBAAkBC,QAAQ,eAAR,EAAyBC,YAA/C,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FMC,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BFC,K;AACAC,O;AACAC,iB;AACAC,I;AACM;AACN,GAAI,MAAOA,KAAP,GAAgB,WAApB,CAAiC;AAC/BC,QAAQC,IAAR,CAAa,gHAAb;AACA,KAAKC,MAAL,CAAYN,KAAZ,CAAmBC,OAAnB,CAA4BC,iBAA5B,CAA+CC,IAA/C;AACA;AACD;AACD,KAAKG,MAAL,CAAYN,KAAZ,CAAmBC,OAAnB,CAA4BC,iBAA5B,CAA+C,SAA/C;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDCF,K;AACAC,O;AACAC,iB;;;;AAIM,IAHNC,KAGM,2DAHc,YAGd,IAFNI,aAEM,iBADNC,aACM;AACN,GAAI,MAAOL,KAAP,GAAgB,UAApB,CAAgC;AAC9BC,QAAQC,IAAR;AACE;AACA,mGADA;AAEA,6GAFA;AAGA,uEAJF;;AAMA,GAAII,UAAWN,IAAf;AACA,GAAII,cAAeN,OAAnB;AACAL,gBAAgBc,aAAhB,CAA8B;AAC5BV,MAAOA,OAASW,SADY;AAE5BR,KAAM,YAFsB;AAG5BI,yBAH4B,CAA9B;AAIG,SAACK,EAAD,CAAKC,KAAL,CAAe;AAChBJ,SAASI,KAAT;AACD,CAND;AAOA;AACD;;AAED,GAAIC,WAAY,EAAhB;AACA,GAAIC,SAAU,EAAd;AACA,GAAIC,gBAAJ;AACA,GAAIC,qBAAJ;AACA,GAAI,MAAOf,kBAAP,GAA6B,UAAjC,CAA6C;AAC3CY,UAAY,CAACZ,iBAAD,CAAZ;AACD,CAFD;AAGK,GAAIA,4BAA6BgB,MAAjC,CAAwC;AAC3ChB,kBAAkBiB,OAAlB,CAA0B,SAACC,GAAD,CAAMC,KAAN,CAAgB;AACxCP,UAAUO,KAAV,EAAmBD,IAAIE,OAAvB;AACA,GAAIF,IAAIG,KAAJ,GAAc,QAAlB,CAA4B;AAC1BP,gBAAkBQ,OAAOH,KAAP,CAAlB;AACD,CAFD,IAEO,IAAID,IAAIG,KAAJ,GAAc,aAAlB,CAAiC;AACtCN,qBAAuBO,OAAOH,KAAP,CAAvB;AACD;AACD,GAAID,IAAIK,IAAJ,EAAYJ,MAAQ,CAACnB,mBAAqB,EAAtB,EAA0BwB,MAA1B,CAAmC,CAA3D,CAA8D;AAC5D,GAAIC,QAAS,EAAb;AACAA,OAAON,KAAP,EAAgBD,IAAIK,IAAJ,EAAY,EAA5B;AACAV,QAAQa,IAAR,CAAaD,MAAb;AACD;AACF,CAZD;AAaD;;AAED/B,gBAAgBc,aAAhB,CAA8B;AAC5BV,MAAOA,OAASW,SADY;AAE5BV,QAASA,SAAWU,SAFQ;AAG5BI,eAH4B;AAI5BZ,KAAMA,MAAQQ,SAJc;AAK5BJ,yBAL4B;AAM5BS,+BAN4B;AAO5BC,yCAP4B;AAQ5BT,yBAR4B,CAA9B;AASG,SAACI,EAAD,CAAKC,KAAL,CAAe;AAChB,GAAIgB,IAAKf,UAAUF,EAAV,CAAT;AACAiB,IAAMA,GAAGhB,KAAH,CAAN;AACD,CAZD;AAaD,C;;;AAGHiB,OAAOC,OAAP,CAAiBhC,QAAjB,C,0GArPIH,e,2JA4FEG,Q","file":"AlertIOS.js","sourceRoot":"/home/phz/workspace/brimitives/storybooks/native","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule AlertIOS\n * @flow\n * @jsdoc\n */\n'use strict';\n\nvar RCTAlertManager = require('NativeModules').AlertManager;\n\n/**\n * An Alert button type\n */\nexport type AlertType = $Enum<{\n  /**\n   * Default alert with no inputs\n   */\n  'default': string,\n  /**\n   * Plain text input alert\n   */\n  'plain-text': string,\n  /**\n   * Secure text input alert\n   */\n  'secure-text': string,\n  /**\n   * Login and password alert\n   */\n  'login-password': string,\n}>;\n\n/**\n * An Alert button style\n */\nexport type AlertButtonStyle = $Enum<{\n  /**\n   * Default button style\n   */\n  'default': string,\n  /**\n   * Cancel button style\n   */\n  'cancel': string,\n  /**\n   * Destructive button style\n   */\n  'destructive': string,\n}>;\n\n/**\n * Array or buttons\n * @typedef {Array} ButtonsArray\n * @property {string=} text Button label\n * @property {Function=} onPress Callback function when button pressed\n * @property {AlertButtonStyle=} style Button style\n */\nexport type ButtonsArray = Array<{\n  /**\n   * Button label\n   */\n  text?: string,\n  /**\n   * Callback function when button pressed\n   */\n  onPress?: ?Function,\n  /**\n   * Button style\n   */\n  style?: AlertButtonStyle,\n}>;\n\n/**\n * @description\n * `AlertIOS` provides functionality to create an iOS alert dialog with a\n * message or create a prompt for user input.\n *\n * Creating an iOS alert:\n *\n * ```\n * AlertIOS.alert(\n *  'Sync Complete',\n *  'All your data are belong to us.'\n * );\n * ```\n *\n * Creating an iOS prompt:\n *\n * ```\n * AlertIOS.prompt(\n *   'Enter a value',\n *   null,\n *   text => console.log(\"You entered \"+text)\n * );\n * ```\n *\n * We recommend using the [`Alert.alert`](docs/alert.html) method for\n * cross-platform support if you don't need to create iOS-only prompts.\n *\n */\nclass AlertIOS {\n  /**\n   * Create and display a popup alert.\n   * @static\n   * @method alert\n   * @param title The dialog's title.\n   * @param message An optional message that appears below\n   *     the dialog's title.\n   * @param callbackOrButtons This optional argument should\n   *    be either a single-argument function or an array of buttons. If passed\n   *    a function, it will be called when the user taps 'OK'.\n   *\n   *    If passed an array of button configurations, each button should include\n   *    a `text` key, as well as optional `onPress` and `style` keys. `style`\n   *    should be one of 'default', 'cancel' or 'destructive'.\n   * @param type Deprecated, do not use.\n   *\n   * @example <caption>Example with custom buttons</caption>\n   *\n   * AlertIOS.alert(\n   *  'Update available',\n   *  'Keep your app up to date to enjoy the latest features',\n   *  [\n   *    {text: 'Cancel', onPress: () => console.log('Cancel Pressed'), style: 'cancel'},\n   *    {text: 'Install', onPress: () => console.log('Install Pressed')},\n   *  ],\n   * );\n   */\n  static alert(\n    title: ?string,\n    message?: ?string,\n    callbackOrButtons?: ?(() => void) | ButtonsArray,\n    type?: AlertType,\n  ): void {\n    if (typeof type !== 'undefined') {\n      console.warn('AlertIOS.alert() with a 4th \"type\" parameter is deprecated and will be removed. Use AlertIOS.prompt() instead.');\n      this.prompt(title, message, callbackOrButtons, type);\n      return;\n    }\n    this.prompt(title, message, callbackOrButtons, 'default');\n  }\n\n  /**\n   * Create and display a prompt to enter some text.\n   * @static\n   * @method prompt\n   * @param title The dialog's title.\n   * @param message An optional message that appears above the text\n   *    input.\n   * @param callbackOrButtons This optional argument should\n   *    be either a single-argument function or an array of buttons. If passed\n   *    a function, it will be called with the prompt's value when the user\n   *    taps 'OK'.\n   *\n   *    If passed an array of button configurations, each button should include\n   *    a `text` key, as well as optional `onPress` and `style` keys (see\n   *    example). `style` should be one of 'default', 'cancel' or 'destructive'.\n   * @param type This configures the text input. One of 'plain-text',\n   *    'secure-text' or 'login-password'.\n   * @param defaultValue The default text in text input.\n   * @param keyboardType The keyboard type of first text field(if exists).\n   *    One of 'default', 'email-address', 'numeric', 'phone-pad',\n   *    'ascii-capable', 'numbers-and-punctuation', 'url', 'number-pad',\n   *    'name-phone-pad', 'decimal-pad', 'twitter' or 'web-search'.\n   *\n   * @example <caption>Example with custom buttons</caption>\n   *\n   * AlertIOS.prompt(\n   *   'Enter password',\n   *   'Enter your password to claim your $1.5B in lottery winnings',\n   *   [\n   *     {text: 'Cancel', onPress: () => console.log('Cancel Pressed'), style: 'cancel'},\n   *     {text: 'OK', onPress: password => console.log('OK Pressed, password: ' + password)},\n   *   ],\n   *   'secure-text'\n   * );\n   *\n   * @example <caption>Example with the default button and a custom callback</caption>\n   *\n   * AlertIOS.prompt(\n   *   'Update username',\n   *   null,\n   *   text => console.log(\"Your username is \"+text),\n   *   null,\n   *   'default'\n   * );\n   */\n  static prompt(\n    title: ?string,\n    message?: ?string,\n    callbackOrButtons?: ?((text: string) => void) | ButtonsArray,\n    type?: ?AlertType = 'plain-text',\n    defaultValue?: string,\n    keyboardType?: string\n  ): void {\n    if (typeof type === 'function') {\n      console.warn(\n        'You passed a callback function as the \"type\" argument to AlertIOS.prompt(). React Native is ' +\n        'assuming  you want to use the deprecated AlertIOS.prompt(title, defaultValue, buttons, callback) ' +\n        'signature. The current signature is AlertIOS.prompt(title, message, callbackOrButtons, type, defaultValue, ' +\n        'keyboardType) and the old syntax will be removed in a future version.');\n\n      var callback = type;\n      var defaultValue = message;\n      RCTAlertManager.alertWithArgs({\n        title: title || undefined,\n        type: 'plain-text',\n        defaultValue,\n      }, (id, value) => {\n        callback(value);\n      });\n      return;\n    }\n\n    var callbacks = [];\n    var buttons = [];\n    var cancelButtonKey;\n    var destructiveButtonKey;\n    if (typeof callbackOrButtons === 'function') {\n      callbacks = [callbackOrButtons];\n    }\n    else if (callbackOrButtons instanceof Array) {\n      callbackOrButtons.forEach((btn, index) => {\n        callbacks[index] = btn.onPress;\n        if (btn.style === 'cancel') {\n          cancelButtonKey = String(index);\n        } else if (btn.style === 'destructive') {\n          destructiveButtonKey = String(index);\n        }\n        if (btn.text || index < (callbackOrButtons || []).length - 1) {\n          var btnDef = {};\n          btnDef[index] = btn.text || '';\n          buttons.push(btnDef);\n        }\n      });\n    }\n\n    RCTAlertManager.alertWithArgs({\n      title: title || undefined,\n      message: message || undefined,\n      buttons,\n      type: type || undefined,\n      defaultValue,\n      cancelButtonKey,\n      destructiveButtonKey,\n      keyboardType,\n    }, (id, value) => {\n      var cb = callbacks[id];\n      cb && cb(value);\n    });\n  }\n}\n\nmodule.exports = AlertIOS;\n"]}