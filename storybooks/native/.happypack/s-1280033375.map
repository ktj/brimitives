{"version":3,"sources":["../../packages/ktj-component-lib/node_modules/react-timer-mixin/TimerMixin.js"],"names":["GLOBAL","window","global","setter","_setter","_clearer","array","callback","delta","id","call","apply","arguments","bind","push","clearer","index","indexOf","splice","_timeouts","_clearTimeout","clearTimeout","_setTimeout","setTimeout","_intervals","_clearInterval","clearInterval","_setInterval","setInterval","_immediates","_clearImmediate","clearImmediate","_setImmediate","setImmediate","_rafs","_cancelAnimationFrame","cancelAnimationFrame","_requestAnimationFrame","requestAnimationFrame","TimerMixin","componentWillUnmount","forEach","module","exports"],"mappings":"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","file":"TimerMixin.js","sourceRoot":"/home/phz/workspace/brimitives/storybooks/native","sourcesContent":["/*\n *  Copyright (c) 2015-present, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n'use strict';\n\nvar GLOBAL = typeof window === 'undefined' ? global : window;\n\nvar setter = function(_setter, _clearer, array) {\n  return function(callback, delta) {\n    var id = _setter(function() {\n      _clearer.call(this, id);\n      callback.apply(this, arguments);\n    }.bind(this), delta);\n\n    if (!this[array]) {\n      this[array] = [id];\n    } else {\n      this[array].push(id);\n    }\n    return id;\n  };\n};\n\nvar clearer = function(_clearer, array) {\n  return function(id) {\n    if (this[array]) {\n      var index = this[array].indexOf(id);\n      if (index !== -1) {\n        this[array].splice(index, 1);\n      }\n    }\n    _clearer(id);\n  };\n};\n\nvar _timeouts = 'TimerMixin_timeouts';\nvar _clearTimeout = clearer(GLOBAL.clearTimeout, _timeouts);\nvar _setTimeout = setter(GLOBAL.setTimeout, _clearTimeout, _timeouts);\n\nvar _intervals = 'TimerMixin_intervals';\nvar _clearInterval = clearer(GLOBAL.clearInterval, _intervals);\nvar _setInterval = setter(GLOBAL.setInterval, function() {/* noop */}, _intervals);\n\nvar _immediates = 'TimerMixin_immediates';\nvar _clearImmediate = clearer(GLOBAL.clearImmediate, _immediates);\nvar _setImmediate = setter(GLOBAL.setImmediate, _clearImmediate, _immediates);\n\nvar _rafs = 'TimerMixin_rafs';\nvar _cancelAnimationFrame = clearer(GLOBAL.cancelAnimationFrame, _rafs);\nvar _requestAnimationFrame = setter(GLOBAL.requestAnimationFrame, _cancelAnimationFrame, _rafs);\n\nvar TimerMixin = {\n  componentWillUnmount: function() {\n    this[_timeouts] && this[_timeouts].forEach(function(id) {\n      GLOBAL.clearTimeout(id);\n    });\n    this[_timeouts] = null;\n    this[_intervals] && this[_intervals].forEach(function(id) {\n      GLOBAL.clearInterval(id);\n    });\n    this[_intervals] = null;\n    this[_immediates] && this[_immediates].forEach(function(id) {\n      GLOBAL.clearImmediate(id);\n    });\n    this[_immediates] = null;\n    this[_rafs] && this[_rafs].forEach(function(id) {\n      GLOBAL.cancelAnimationFrame(id);\n    });\n    this[_rafs] = null;\n  },\n\n  setTimeout: _setTimeout,\n  clearTimeout: _clearTimeout,\n\n  setInterval: _setInterval,\n  clearInterval: _clearInterval,\n\n  setImmediate: _setImmediate,\n  clearImmediate: _clearImmediate,\n\n  requestAnimationFrame: _requestAnimationFrame,\n  cancelAnimationFrame: _cancelAnimationFrame,\n};\n\nmodule.exports = TimerMixin;\n"]}