{"version":3,"sources":["../../packages/ktj-component-lib/node_modules/react-brimitives/lib/modules/Touchable.js"],"names":["React","require","createReactClass","PropTypes","TimerMixin","ensurePositiveDelayProps","InsetPropType","shape","top","number","left","bottom","right","THROTTLE_MS","throttle","fn","throttleMs","lastCall","now","Date","_len","arguments","length","args","Array","_key","apply","Touchable","Animated","StyleSheet","Platform","TouchableMixin","styles","create","touchable","select","web","cursor","ios","android","sketch","vr","displayName","propTypes","accessible","bool","disabled","onPress","func","onPressIn","onPressOut","onLayout","onLongPress","delayPressIn","delayPressOut","delayLongPress","pressRetentionOffset","hitSlop","activeValue","press","instanceOf","Value","pressDuration","children","node","mixins","statics","Mixin","getDefaultProps","getInitialState","touchableGetInitialState","componentDidMount","props","componentWillReceiveProps","nextProps","setPressValue","toValue","timing","duration","start","touchableHandleActivePressIn","e","dispatchConfig","registrationName","_setActive","touchableHandleActivePressOut","_setInactive","touchableHandlePress","touchableHandleLongPress","touchableGetPressRectOffset","touchableGetHitSlop","touchableGetHighlightDelayMS","touchableGetLongPressDelayMS","touchableGetPressOutDelayMS","render","child","childStyle","style","cloneElement","onStartShouldSetResponder","touchableHandleStartShouldSetResponder","onResponderTerminationRequest","touchableHandleResponderTerminationRequest","onResponderGrant","touchableHandleResponderGrant","onResponderMove","touchableHandleResponderMove","onResponderRelease","touchableHandleResponderRelease","onResponderTerminate","touchableHandleResponderTerminate","module","exports"],"mappings":"AAAA,GAAIA,OAAMC,QAAQ,OAAR,CAAV,CAA2B,GAAIC,kBAAiBD,QAAQ,oBAAR,CAArB,CAAmD,GAAIE,WAAUF,QAAQ,YAAR,CAAd,CAAoC,GAAIG,YAAWH,QAAQ,mBAAR,CAAf,CAA4C,GAAII,0BAAyB,QAASA,yBAAT,EAAmC,CAAE,CAAlE,CAAmE,GAAIC,eAAcH,UAAUI,KAAV,CAAgB,CAACC,IAAIL,UAAUM,MAAf,CAAsBC,KAAKP,UAAUM,MAArC,CAA4CE,OAAOR,UAAUM,MAA7D,CAAoEG,MAAMT,UAAUM,MAApF,CAAhB,CAAlB,CAA+H,GAAII,aAAY,GAAhB,CAAoB,QAASC,SAAT,CAAkBC,EAAlB,CAAqBC,UAArB,CAAgC,CAAC,GAAIC,UAAS,IAAb,CAAkB,MAAO,WAAU,CAAC,GAAIC,KAAI,GAAIC,KAAJ,EAAR,CAAmB,GAAGF,WAAW,IAAX,EAAiBC,IAAID,QAAJ,CAAaD,UAAjC,CAA4C,CAAC,IAAI,GAAII,MAAKC,UAAUC,MAAnB,CAA0BC,KAAKC,MAAMJ,IAAN,CAA/B,CAA2CK,KAAK,CAApD,CAAsDA,KAAKL,IAA3D,CAAgEK,MAAhE,CAAuE,CAACF,KAAKE,IAAL,EAAWJ,UAAUI,IAAV,CAAX,CAA4B,IAAGC,KAAH,CAAS,IAAT,CAAcH,IAAd,EAAoBN,SAAS,GAAIE,KAAJ,EAAT,CAAqB,CAAC,CAAhO,CAAkO,IAAIQ,WAAU,QAASA,UAAT,CAAmBC,QAAnB,CAA4BC,UAA5B,CAAuCC,QAAvC,CAAgDC,cAAhD,CAA+D,CAAC,GAAIC,QAAOH,WAAWI,MAAX,CAAkB,CAACC,UAAUJ,SAASK,MAAT,CAAgB,CAACC,IAAI,CAACC,OAAO,SAAR,CAAL,CAAwBC,IAAI,EAA5B,CAA+BC,QAAQ,EAAvC,CAA0CC,OAAO,EAAjD,CAAoDC,GAAG,EAAvD,CAAhB,CAAX,CAAlB,CAAX,CAAsH,MAAOvC,kBAAiB,CAACwC,YAAY,WAAb,CAAyBC,UAAU,CAACC,WAAWzC,UAAU0C,IAAtB,CAA2BC,SAAS3C,UAAU0C,IAA9C,CAAmDE,QAAQ5C,UAAU6C,IAArE,CAA0EC,UAAU9C,UAAU6C,IAA9F,CAAmGE,WAAW/C,UAAU6C,IAAxH,CAA6HG,SAAShD,UAAU6C,IAAhJ,CAAqJI,YAAYjD,UAAU6C,IAA3K,CAAgLK,aAAalD,UAAUM,MAAvM,CAA8M6C,cAAcnD,UAAUM,MAAtO,CAA6O8C,eAAepD,UAAUM,MAAtQ,CAA6Q+C,qBAAqBlD,aAAlS,CAAgTmD,QAAQnD,aAAxT,CAAsUoD,YAAYvD,UAAUM,MAA5V,CAAmWkD,MAAMxD,UAAUyD,UAAV,CAAqBhC,SAASiC,KAA9B,CAAzW,CAA8YC,cAAc3D,UAAUM,MAAta,CAA6asD,SAAS5D,UAAU6D,IAAhc,CAAnC,CAAyeC,OAAO,CAAC7D,UAAD,CAAY2B,cAAZ,CAAhf,CAA4gBmC,QAAQ,CAACC,MAAMpC,cAAP,CAAphB,CAA2iBqC,gBAAgB,QAASA,gBAAT,EAA0B,CAAC,MAAM,CAACV,YAAY,CAAb,CAAeL,aAAa,CAA5B,CAA8BC,cAAc,GAA5C,CAAgDC,eAAe,GAA/D,CAAmEO,cAAc,GAAjF,CAAqFN,qBAAqB,CAAChD,IAAI,EAAL,CAAQE,KAAK,EAAb,CAAgBE,MAAM,EAAtB,CAAyBD,OAAO,EAAhC,CAA1G,CAA8IgD,MAAM,GAAI/B,UAASiC,KAAb,CAAmB,CAAnB,CAApJ,CAAN,CAAkL,CAAxwB,CAAywBQ,gBAAgB,QAASA,gBAAT,EAA0B,CAAC,MAAO,MAAKC,wBAAL,EAAP,CAAwC,CAA51B,CAA61BC,kBAAkB,QAASA,kBAAT,EAA4B,CAAClE,yBAAyB,KAAKmE,KAA9B,EAAsC,CAAl7B,CAAm7BC,0BAA0B,QAASA,0BAAT,CAAmCC,SAAnC,CAA6C,CAACrE,yBAAyBqE,SAAzB,EAAqC,CAAhiC,CAAiiCC,cAAc,QAASA,cAAT,CAAuBC,OAAvB,CAA+B,CAAChD,SAASiD,MAAT,CAAgB,KAAKL,KAAL,CAAWb,KAA3B,CAAiC,CAACiB,QAAQA,OAAT,CAAiBE,SAAS,KAAKN,KAAL,CAAWV,aAArC,CAAjC,EAAsFiB,KAAtF,GAA+F,CAA9qC,CAA+qCC,6BAA6BlE,SAAS,SAASmE,CAAT,CAAW,CAAC,GAAGA,EAAEC,cAAF,CAAiBC,gBAAjB,GAAoC,kBAAvC,CAA0D,CAAC,KAAKC,UAAL,CAAgB,CAAhB,EAAoB,CAA/E,IAAmF,CAAC,KAAKA,UAAL,CAAgB,GAAhB,EAAsB,MAAKZ,KAAL,CAAWvB,SAAX,EAAsB,KAAKuB,KAAL,CAAWvB,SAAX,CAAqBgC,CAArB,CAAtB,CAA+C,CAA9K,CAA+KpE,WAA/K,CAA5sC,CAAw4CwE,8BAA8BvE,SAAS,SAASmE,CAAT,CAAW,CAAC,KAAKK,YAAL,CAAkB,GAAlB,EAAuB,KAAKd,KAAL,CAAWtB,UAAX,EAAuB,KAAKsB,KAAL,CAAWtB,UAAX,CAAsB+B,CAAtB,CAAvB,CAAiD,CAA7F,CAA8FpE,WAA9F,CAAt6C,CAAihD0E,qBAAqBzE,SAAS,SAASmE,CAAT,CAAW,CAAC,KAAKT,KAAL,CAAWzB,OAAX,EAAoB,KAAKyB,KAAL,CAAWzB,OAAX,CAAmBkC,CAAnB,CAApB,CAA2C,CAAhE,CAAiEpE,WAAjE,CAAtiD,CAAonD2E,yBAAyB1E,SAAS,SAASmE,CAAT,CAAW,CAAC,KAAKT,KAAL,CAAWpB,WAAX,EAAwB,KAAKoB,KAAL,CAAWpB,WAAX,CAAuB6B,CAAvB,CAAxB,CAAmD,CAAxE,CAAyEpE,WAAzE,CAA7oD,CAAmuD4E,4BAA4B,QAASA,4BAAT,EAAsC,CAAC,MAAO,MAAKjB,KAAL,CAAWhB,oBAAlB,CAAwC,CAA90D,CAA+0DkC,oBAAoB,QAASA,oBAAT,EAA8B,CAAC,MAAO,MAAKlB,KAAL,CAAWf,OAAlB,CAA2B,CAA75D,CAA85DkC,6BAA6B,QAASA,6BAAT,EAAuC,CAAC,MAAO,MAAKnB,KAAL,CAAWnB,YAAlB,CAAgC,CAAngE,CAAogEuC,6BAA6B,QAASA,6BAAT,EAAuC,CAAC,MAAO,MAAKpB,KAAL,CAAWjB,cAAlB,CAAkC,CAA3mE,CAA4mEsC,4BAA4B,QAASA,4BAAT,EAAsC,CAAC,MAAO,MAAKrB,KAAL,CAAWlB,aAAlB,CAAiC,CAAhtE,CAAitE8B,WAAW,QAASA,WAAT,CAAoBN,QAApB,CAA6B,CAAC,KAAKH,aAAL,CAAmB,CAAnB,CAAqBG,QAArB,EAAgC,CAA1xE,CAA2xEQ,aAAa,QAASA,aAAT,CAAsBR,QAAtB,CAA+B,CAAC,KAAKH,aAAL,CAAmB,CAAnB,CAAqBG,QAArB,EAAgC,CAAx2E,CAAy2EgB,OAAO,QAASA,OAAT,EAAiB,CAAC,GAAIC,OAAM,KAAKvB,KAAL,CAAWT,QAArB,CAA8B,GAAIiC,YAAWD,OAAOA,MAAMvB,KAAb,EAAoBuB,MAAMvB,KAAN,CAAYyB,KAA/C,CAAqD,MAAOjG,OAAMkG,YAAN,CAAmBH,KAAnB,CAAyB,CAACI,0BAA0B,KAAKC,sCAAhC,CAAuEC,8BAA8B,KAAKC,0CAA1G,CAAqJC,iBAAiB,KAAKC,6BAA3K,CAAyMC,gBAAgB,KAAKC,4BAA9N,CAA2PC,mBAAmB,KAAKC,+BAAnR,CAAmTC,qBAAqB,KAAKC,iCAA7U,CAA+Wb,MAAM,CAACjE,OAAOE,SAAR,CAAkB8D,UAAlB,CAArX,CAAzB,CAAP,CAAsb,CAA34F,CAAjB,CAAP,CAAu6F,CAA3mG,CAA4mGe,OAAOC,OAAP,CAAerF,SAAf,C,0GAAnlHtB,wB,8KAAmEC,a,mKAA+HO,W,iKAAyBC,Q,8JAAgRa,S","file":"Touchable.js","sourceRoot":"/home/phz/workspace/brimitives/storybooks/native","sourcesContent":["var React=require('react');var createReactClass=require('create-react-class');var PropTypes=require('prop-types');var TimerMixin=require('react-timer-mixin');var ensurePositiveDelayProps=function ensurePositiveDelayProps(){};var InsetPropType=PropTypes.shape({top:PropTypes.number,left:PropTypes.number,bottom:PropTypes.number,right:PropTypes.number});var THROTTLE_MS=500;function throttle(fn,throttleMs){var lastCall=null;return function(){var now=new Date();if(lastCall===null||now-lastCall>throttleMs){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}fn.apply(this,args);lastCall=new Date();}};}var Touchable=function Touchable(Animated,StyleSheet,Platform,TouchableMixin){var styles=StyleSheet.create({touchable:Platform.select({web:{cursor:'pointer'},ios:{},android:{},sketch:{},vr:{}})});return createReactClass({displayName:'Touchable',propTypes:{accessible:PropTypes.bool,disabled:PropTypes.bool,onPress:PropTypes.func,onPressIn:PropTypes.func,onPressOut:PropTypes.func,onLayout:PropTypes.func,onLongPress:PropTypes.func,delayPressIn:PropTypes.number,delayPressOut:PropTypes.number,delayLongPress:PropTypes.number,pressRetentionOffset:InsetPropType,hitSlop:InsetPropType,activeValue:PropTypes.number,press:PropTypes.instanceOf(Animated.Value),pressDuration:PropTypes.number,children:PropTypes.node},mixins:[TimerMixin,TouchableMixin],statics:{Mixin:TouchableMixin},getDefaultProps:function getDefaultProps(){return{activeValue:1,delayPressIn:0,delayPressOut:100,delayLongPress:500,pressDuration:150,pressRetentionOffset:{top:20,left:20,right:20,bottom:30},press:new Animated.Value(0)};},getInitialState:function getInitialState(){return this.touchableGetInitialState();},componentDidMount:function componentDidMount(){ensurePositiveDelayProps(this.props);},componentWillReceiveProps:function componentWillReceiveProps(nextProps){ensurePositiveDelayProps(nextProps);},setPressValue:function setPressValue(toValue){Animated.timing(this.props.press,{toValue:toValue,duration:this.props.pressDuration}).start();},touchableHandleActivePressIn:throttle(function(e){if(e.dispatchConfig.registrationName==='onResponderGrant'){this._setActive(0);}else{this._setActive(150);}this.props.onPressIn&&this.props.onPressIn(e);},THROTTLE_MS),touchableHandleActivePressOut:throttle(function(e){this._setInactive(250);this.props.onPressOut&&this.props.onPressOut(e);},THROTTLE_MS),touchableHandlePress:throttle(function(e){this.props.onPress&&this.props.onPress(e);},THROTTLE_MS),touchableHandleLongPress:throttle(function(e){this.props.onLongPress&&this.props.onLongPress(e);},THROTTLE_MS),touchableGetPressRectOffset:function touchableGetPressRectOffset(){return this.props.pressRetentionOffset;},touchableGetHitSlop:function touchableGetHitSlop(){return this.props.hitSlop;},touchableGetHighlightDelayMS:function touchableGetHighlightDelayMS(){return this.props.delayPressIn;},touchableGetLongPressDelayMS:function touchableGetLongPressDelayMS(){return this.props.delayLongPress;},touchableGetPressOutDelayMS:function touchableGetPressOutDelayMS(){return this.props.delayPressOut;},_setActive:function _setActive(duration){this.setPressValue(1,duration);},_setInactive:function _setInactive(duration){this.setPressValue(0,duration);},render:function render(){var child=this.props.children;var childStyle=child&&child.props&&child.props.style;return React.cloneElement(child,{onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,onResponderGrant:this.touchableHandleResponderGrant,onResponderMove:this.touchableHandleResponderMove,onResponderRelease:this.touchableHandleResponderRelease,onResponderTerminate:this.touchableHandleResponderTerminate,style:[styles.touchable,childStyle]});}});};module.exports=Touchable;"]}