{"version":3,"sources":["node_modules/react-inspector/lib/table-inspector/getHeaders.js"],"names":["Object","defineProperty","exports","value","_toConsumableArray2","require","_toConsumableArray3","_interopRequireDefault","_typeof2","_typeof3","default","getHeaders","obj","__esModule","Array","prototype","includes","searchElement","O","len","parseInt","length","n","arguments","k","currentElement","data","rowHeaders","isArray","nRows","concat","keys","colHeaders","reduce","rowHeader","row","cols","xs","x","push","undefined"],"mappings":"AAAA;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,CAA+B,YAA/B,CAA6C;AAC3CC,MAAO,IADoC,CAA7C;;;AAIA,GAAIC,qBAAsBC,QAAQ,yCAAR,CAA1B;;AAEA,GAAIC,qBAAsBC,uBAAuBH,mBAAvB,CAA1B;;AAEA,GAAII,UAAWH,QAAQ,8BAAR,CAAf;;AAEA,GAAII,UAAWF,uBAAuBC,QAAvB,CAAf;;AAEAN,QAAQQ,OAAR,CAAkBC,UAAlB;;AAEA,QAASJ,uBAAT,CAAgCK,GAAhC,CAAqC,CAAE,MAAOA,MAAOA,IAAIC,UAAX,CAAwBD,GAAxB,CAA8B,CAAEF,QAASE,GAAX,CAArC,CAAwD;;;;;;AAM/F,GAAI,CAACE,MAAMC,SAAN,CAAgBC,QAArB,CAA+B;AAC7BF,MAAMC,SAAN,CAAgBC,QAAhB,CAA2B,SAAUC,aAAV,CAAyC;AAClE,GAAIC,GAAIlB,OAAO,IAAP,CAAR;AACA,GAAImB,KAAMC,SAASF,EAAEG,MAAX,GAAsB,CAAhC;AACA,GAAIF,MAAQ,CAAZ,CAAe;AACb,MAAO,MAAP;AACD;AACD,GAAIG,GAAIF,SAASG,UAAU,CAAV,CAAT,GAA0B,CAAlC;AACA,GAAIC,EAAJ;AACA,GAAIF,GAAK,CAAT,CAAY;AACVE,EAAIF,CAAJ;AACD,CAFD,IAEO;AACLE,EAAIL,IAAMG,CAAV;AACA,GAAIE,EAAI,CAAR,CAAW;AACTA,EAAI,CAAJ;AACD;AACF;AACD,GAAIC,eAAJ;AACA,MAAOD,EAAIL,GAAX,CAAgB;AACdM,eAAiBP,EAAEM,CAAF,CAAjB;AACA,GAAIP,gBAAkBQ,cAAlB,EAAoCR,gBAAkBA,aAAlB,EAAmCQ,iBAAmBA,cAA9F,CAA8G;;AAE5G,MAAO,KAAP;AACD;AACDD;AACD;AACD,MAAO,MAAP;AACD,CA1BD;AA2BD;;AAED,QAASb,WAAT,CAAoBe,IAApB,CAA0B;AACxB,GAAI,CAAC,MAAOA,KAAP,GAAgB,WAAhB,CAA8B,WAA9B,CAA4C,CAAC,EAAGjB,SAASC,OAAb,EAAsBgB,IAAtB,CAA7C,IAA8E,QAAlF,CAA4F;AAC1F,GAAIC,YAAa,IAAK,EAAtB;;AAEA,GAAIb,MAAMc,OAAN,CAAcF,IAAd,CAAJ,CAAyB;AACvB,GAAIG,OAAQH,KAAKL,MAAjB;AACAM,WAAa,GAAGG,MAAH,CAAU,CAAC,EAAGxB,oBAAoBI,OAAxB,EAAiCI,MAAMe,KAAN,EAAaE,IAAb,EAAjC,CAAV,CAAb;AACD,CAHD,IAGO,IAAIL,OAAS,IAAb,CAAmB;;;AAGxBC,WAAa3B,OAAO+B,IAAP,CAAYL,IAAZ,CAAb;AACD;;;AAGD,GAAIM,YAAaL,WAAWM,MAAX,CAAkB,SAAUD,UAAV,CAAsBE,SAAtB,CAAiC;AAClE,GAAIC,KAAMT,KAAKQ,SAAL,CAAV;AACA,GAAI,CAAC,MAAOC,IAAP,GAAe,WAAf,CAA6B,WAA7B,CAA2C,CAAC,EAAG1B,SAASC,OAAb,EAAsByB,GAAtB,CAA5C,IAA4E,QAA5E,EAAwFA,MAAQ,IAApG,CAA0G;;AAExG,GAAIC,MAAOpC,OAAO+B,IAAP,CAAYI,GAAZ,CAAX;AACAC,KAAKH,MAAL,CAAY,SAAUI,EAAV,CAAcC,CAAd,CAAiB;AAC3B,GAAI,CAACD,GAAGrB,QAAH,CAAYsB,CAAZ,CAAL,CAAqB;;AAEnBD,GAAGE,IAAH,CAAQD,CAAR;AACD;AACD,MAAOD,GAAP;AACD,CAND,CAMGL,UANH;AAOD;AACD,MAAOA,WAAP;AACD,CAdgB,CAcd,EAdc,CAAjB;AAeA,MAAO;AACLL,WAAYA,UADP;AAELK,WAAYA,UAFP,CAAP;;AAID;AACD,MAAOQ,UAAP;AACD,C,0GA/EGlC,mB,wKAIAG,Q,6JAIKF,sB,2KAoCAI,U","file":"getHeaders.js","sourceRoot":"/home/phz/workspace/brimitives/storybooks/native","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = getHeaders;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * Polyfill for running tests\n * `includes` is an ES2016 feature\n */\nif (!Array.prototype.includes) {\n  Array.prototype.includes = function (searchElement /*, fromIndex*/) {\n    var O = Object(this);\n    var len = parseInt(O.length) || 0;\n    if (len === 0) {\n      return false;\n    }\n    var n = parseInt(arguments[1]) || 0;\n    var k;\n    if (n >= 0) {\n      k = n;\n    } else {\n      k = len + n;\n      if (k < 0) {\n        k = 0;\n      }\n    }\n    var currentElement;\n    while (k < len) {\n      currentElement = O[k];\n      if (searchElement === currentElement || searchElement !== searchElement && currentElement !== currentElement) {\n        // NaN !== NaN\n        return true;\n      }\n      k++;\n    }\n    return false;\n  };\n}\n\nfunction getHeaders(data) {\n  if ((typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) === 'object') {\n    var rowHeaders = void 0;\n    // is an array\n    if (Array.isArray(data)) {\n      var nRows = data.length;\n      rowHeaders = [].concat((0, _toConsumableArray3.default)(Array(nRows).keys()));\n    } else if (data !== null) {\n      // is an object\n      // keys are row indexes\n      rowHeaders = Object.keys(data);\n    }\n\n    // Time: O(nRows * nCols)\n    var colHeaders = rowHeaders.reduce(function (colHeaders, rowHeader) {\n      var row = data[rowHeader];\n      if ((typeof row === 'undefined' ? 'undefined' : (0, _typeof3.default)(row)) === 'object' && row !== null) {\n        /* O(nCols) Could optimize `includes` here */\n        var cols = Object.keys(row);\n        cols.reduce(function (xs, x) {\n          if (!xs.includes(x)) {\n            /* xs is the colHeaders to be filled by searching the row's indexes */\n            xs.push(x);\n          }\n          return xs;\n        }, colHeaders);\n      }\n      return colHeaders;\n    }, []);\n    return {\n      rowHeaders: rowHeaders,\n      colHeaders: colHeaders\n    };\n  }\n  return undefined;\n}"]}