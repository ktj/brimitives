{"version":3,"sources":["node_modules/react-native/Libraries/ART/ReactNativeART.js"],"names":["Color","require","Path","Transform","React","PropTypes","ReactNativeViewAttributes","createReactNativeComponentClass","merge","invariant","arrayDiffer","a","b","length","i","fontAndLinesDiffer","font","fontFamily","fontSize","fontWeight","fontStyle","lines","SurfaceViewAttributes","UIView","NodeAttributes","transform","diff","opacity","GroupAttributes","clipping","RenderableAttributes","fill","stroke","strokeWidth","strokeCap","strokeJoin","strokeDash","ShapeAttributes","d","TextAttributes","alignment","frame","path","NativeSurfaceView","validAttributes","uiViewClassName","NativeGroup","NativeShape","NativeText","childrenAsString","children","join","Surface","isInSurface","props","w","extractNumber","width","h","height","style","Component","childContextTypes","bool","value","defaultValue","pooledTransform","extractTransform","scaleX","scale","scaleY","transformTo","move","x","y","rotate","rotation","originX","originY","xx","yx","xy","yy","extractOpacity","visible","Group","context","contextTypes","isRequired","ClippingRectangle","propsExcludingXAndY","SOLID_COLOR","LINEAR_GRADIENT","RADIAL_GRADIENT","PATTERN","insertColorIntoArray","color","targetArray","atIndex","c","red","green","blue","alpha","insertColorsIntoArray","stops","offset","insertOffsetsIntoArray","multi","reverse","offsetNumber","offsetString","insertColorStopsIntoArray","lastIndex","insertDoubleColorStopsIntoArray","applyBoundingBoxToBrushData","brushData","type","extractBrush","colorOrBrush","_brush","_bb","extractColor","extractStrokeCap","extractStrokeJoin","Shape","toJSON","cachedFontObjectsFromString","fontFamilyPrefix","fontFamilySuffix","extractSingleFontFamily","fontFamilyString","split","replace","parseFontString","hasOwnProperty","regexp","match","exec","isBold","isItalic","extractFont","toString","newLine","extractFontAndLines","text","extractAlignment","Text","textPath","textFrame","LinearGradient","x1","y1","x2","y2","arguments","angle","Math","PI","cos","sin","l","abs","RadialGradient","fx","fy","rx","ry","cx","cy","Pattern","url","left","top","ReactART","module","exports"],"mappings":"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","file":"ReactNativeART.js","sourceRoot":"/home/phz/workspace/brimitives/storybooks/native","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeART\n */\n'use strict';\n\nvar Color = require('art/core/color');\nvar Path = require('ARTSerializablePath');\nvar Transform = require('art/core/transform');\n\nvar React = require('React');\nvar PropTypes = require('prop-types');\nvar ReactNativeViewAttributes = require('ReactNativeViewAttributes');\n\nvar createReactNativeComponentClass = require('createReactNativeComponentClass');\nvar merge = require('merge');\nvar invariant = require('fbjs/lib/invariant');\n\n// Diff Helpers\n\nfunction arrayDiffer(a, b) {\n  if (a == null || b == null) {\n    return true;\n  }\n  if (a.length !== b.length) {\n    return true;\n  }\n  for (var i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction fontAndLinesDiffer(a, b) {\n  if (a === b) {\n    return false;\n  }\n  if (a.font !== b.font) {\n    if (a.font === null) {\n      return true;\n    }\n    if (b.font === null) {\n      return true;\n    }\n\n    if (\n      a.font.fontFamily !== b.font.fontFamily ||\n      a.font.fontSize !== b.font.fontSize ||\n      a.font.fontWeight !== b.font.fontWeight ||\n      a.font.fontStyle !== b.font.fontStyle\n    ) {\n      return true;\n    }\n  }\n  return arrayDiffer(a.lines, b.lines);\n}\n\n// Native Attributes\n\nvar SurfaceViewAttributes = merge(ReactNativeViewAttributes.UIView, {\n  // This should contain pixel information such as width, height and\n  // resolution to know what kind of buffer needs to be allocated.\n  // Currently we rely on UIViews and style to figure that out.\n});\n\nvar NodeAttributes = {\n  transform: { diff: arrayDiffer },\n  opacity: true,\n};\n\nvar GroupAttributes = merge(NodeAttributes, {\n  clipping: { diff: arrayDiffer }\n});\n\nvar RenderableAttributes = merge(NodeAttributes, {\n  fill: { diff: arrayDiffer },\n  stroke: { diff: arrayDiffer },\n  strokeWidth: true,\n  strokeCap: true,\n  strokeJoin: true,\n  strokeDash: { diff: arrayDiffer },\n});\n\nvar ShapeAttributes = merge(RenderableAttributes, {\n  d: { diff: arrayDiffer },\n});\n\nvar TextAttributes = merge(RenderableAttributes, {\n  alignment: true,\n  frame: { diff: fontAndLinesDiffer },\n  path: { diff: arrayDiffer }\n});\n\n// Native Components\n\nvar NativeSurfaceView = createReactNativeComponentClass({\n  validAttributes: SurfaceViewAttributes,\n  uiViewClassName: 'ARTSurfaceView',\n});\n\nvar NativeGroup = createReactNativeComponentClass({\n  validAttributes: GroupAttributes,\n  uiViewClassName: 'ARTGroup',\n});\n\nvar NativeShape = createReactNativeComponentClass({\n  validAttributes: ShapeAttributes,\n  uiViewClassName: 'ARTShape',\n});\n\nvar NativeText = createReactNativeComponentClass({\n  validAttributes: TextAttributes,\n  uiViewClassName: 'ARTText',\n});\n\n// Utilities\n\nfunction childrenAsString(children) {\n  if (!children) {\n    return '';\n  }\n  if (typeof children === 'string') {\n    return children;\n  }\n  if (children.length) {\n    return children.join('\\n');\n  }\n  return '';\n}\n\n// Surface - Root node of all ART\n\nclass Surface extends React.Component {\n  static childContextTypes = {\n    isInSurface: PropTypes.bool,\n  };\n\n  getChildContext() {\n    return { isInSurface: true };\n  }\n\n  render() {\n    var props = this.props;\n    var w = extractNumber(props.width, 0);\n    var h = extractNumber(props.height, 0);\n    return (\n      <NativeSurfaceView style={[props.style, { width: w, height: h }]}>\n        {this.props.children}\n      </NativeSurfaceView>\n    );\n  }\n}\n\n// Node Props\n\n// TODO: The desktop version of ART has title and cursor. We should have\n// accessibility support here too even though hovering doesn't work.\n\nfunction extractNumber(value, defaultValue) {\n  if (value == null) {\n    return defaultValue;\n  }\n  return +value;\n}\n\nvar pooledTransform = new Transform();\n\nfunction extractTransform(props) {\n  var scaleX = props.scaleX != null ? props.scaleX :\n               props.scale != null ? props.scale : 1;\n  var scaleY = props.scaleY != null ? props.scaleY :\n               props.scale != null ? props.scale : 1;\n\n  pooledTransform\n    .transformTo(1, 0, 0, 1, 0, 0)\n    .move(props.x || 0, props.y || 0)\n    .rotate(props.rotation || 0, props.originX, props.originY)\n    .scale(scaleX, scaleY, props.originX, props.originY);\n\n  if (props.transform != null) {\n    pooledTransform.transform(props.transform);\n  }\n\n  return [\n    pooledTransform.xx, pooledTransform.yx,\n    pooledTransform.xy, pooledTransform.yy,\n    pooledTransform.x,  pooledTransform.y,\n  ];\n}\n\nfunction extractOpacity(props) {\n  // TODO: visible === false should also have no hit detection\n  if (props.visible === false) {\n    return 0;\n  }\n  if (props.opacity == null) {\n    return 1;\n  }\n  return +props.opacity;\n}\n\n// Groups\n\n// Note: ART has a notion of width and height on Group but AFAIK it's a noop in\n// ReactART.\n\nclass Group extends React.Component {\n  static contextTypes = {\n    isInSurface: PropTypes.bool.isRequired,\n  };\n\n  render() {\n    var props = this.props;\n    invariant(\n      this.context.isInSurface,\n      'ART: <Group /> must be a child of a <Surface />'\n    );\n    return (\n      <NativeGroup\n        opacity={extractOpacity(props)}\n        transform={extractTransform(props)}>\n        {this.props.children}\n      </NativeGroup>\n    );\n  }\n}\n\nclass ClippingRectangle extends React.Component {\n  render() {\n    var props = this.props;\n    var x = extractNumber(props.x, 0);\n    var y = extractNumber(props.y, 0);\n    var w = extractNumber(props.width, 0);\n    var h = extractNumber(props.height, 0);\n    var clipping = [x, y, w, h];\n    // The current clipping API requires x and y to be ignored in the transform\n    var propsExcludingXAndY = merge(props);\n    delete propsExcludingXAndY.x;\n    delete propsExcludingXAndY.y;\n    return (\n      <NativeGroup\n        clipping={clipping}\n        opacity={extractOpacity(props)}\n        transform={extractTransform(propsExcludingXAndY)}>\n        {this.props.children}\n      </NativeGroup>\n    );\n  }\n}\n\n// Renderables\n\nvar SOLID_COLOR = 0;\nvar LINEAR_GRADIENT = 1;\nvar RADIAL_GRADIENT = 2;\nvar PATTERN = 3;\n\nfunction insertColorIntoArray(color, targetArray, atIndex) {\n  var c = new Color(color);\n  targetArray[atIndex + 0] = c.red / 255;\n  targetArray[atIndex + 1] = c.green / 255;\n  targetArray[atIndex + 2] = c.blue / 255;\n  targetArray[atIndex + 3] = c.alpha;\n}\n\nfunction insertColorsIntoArray(stops, targetArray, atIndex) {\n  var i = 0;\n  if ('length' in stops) {\n    while (i < stops.length) {\n      insertColorIntoArray(stops[i], targetArray, atIndex + i * 4);\n      i++;\n    }\n  } else {\n    for (var offset in stops) {\n      insertColorIntoArray(stops[offset], targetArray, atIndex + i * 4);\n      i++;\n    }\n  }\n  return atIndex + i * 4;\n}\n\nfunction insertOffsetsIntoArray(stops, targetArray, atIndex, multi, reverse) {\n  var offsetNumber;\n  var i = 0;\n  if ('length' in stops) {\n    while (i < stops.length) {\n      offsetNumber = i / (stops.length - 1) * multi;\n      targetArray[atIndex + i] = reverse ? 1 - offsetNumber : offsetNumber;\n      i++;\n    }\n  } else {\n    for (var offsetString in stops) {\n      offsetNumber = (+offsetString) * multi;\n      targetArray[atIndex + i] = reverse ? 1 - offsetNumber : offsetNumber;\n      i++;\n    }\n  }\n  return atIndex + i;\n}\n\nfunction insertColorStopsIntoArray(stops, targetArray, atIndex) {\n  var lastIndex = insertColorsIntoArray(stops, targetArray, atIndex);\n  insertOffsetsIntoArray(stops, targetArray, lastIndex, 1, false);\n}\n\nfunction insertDoubleColorStopsIntoArray(stops, targetArray, atIndex) {\n  var lastIndex = insertColorsIntoArray(stops, targetArray, atIndex);\n  lastIndex = insertColorsIntoArray(stops, targetArray, lastIndex);\n  lastIndex = insertOffsetsIntoArray(stops, targetArray, lastIndex, 0.5, false);\n  insertOffsetsIntoArray(stops, targetArray, lastIndex, 0.5, true);\n}\n\nfunction applyBoundingBoxToBrushData(brushData, props) {\n  var type = brushData[0];\n  var width = +props.width;\n  var height = +props.height;\n  if (type === LINEAR_GRADIENT) {\n    brushData[1] *= width;\n    brushData[2] *= height;\n    brushData[3] *= width;\n    brushData[4] *= height;\n  } else if (type === RADIAL_GRADIENT) {\n    brushData[1] *= width;\n    brushData[2] *= height;\n    brushData[3] *= width;\n    brushData[4] *= height;\n    brushData[5] *= width;\n    brushData[6] *= height;\n  } else if (type === PATTERN) {\n    // todo\n  }\n}\n\nfunction extractBrush(colorOrBrush, props) {\n  if (colorOrBrush == null) {\n    return null;\n  }\n  if (colorOrBrush._brush) {\n    if (colorOrBrush._bb) {\n      // The legacy API for Gradients allow for the bounding box to be used\n      // as a convenience for specifying gradient positions. This should be\n      // deprecated. It's not properly implemented in canvas mode. ReactART\n      // doesn't handle update to the bounding box correctly. That's why we\n      // mutate this so that if it's reused, we reuse the same resolved box.\n      applyBoundingBoxToBrushData(colorOrBrush._brush, props);\n      colorOrBrush._bb = false;\n    }\n    return colorOrBrush._brush;\n  }\n  var c = new Color(colorOrBrush);\n  return [SOLID_COLOR, c.red / 255, c.green / 255, c.blue / 255, c.alpha];\n}\n\nfunction extractColor(color) {\n  if (color == null) {\n    return null;\n  }\n  var c = new Color(color);\n  return [c.red / 255, c.green / 255, c.blue / 255, c.alpha];\n}\n\nfunction extractStrokeCap(strokeCap) {\n  switch (strokeCap) {\n    case 'butt': return 0;\n    case 'square': return 2;\n    default: return 1; // round\n  }\n}\n\nfunction extractStrokeJoin(strokeJoin) {\n  switch (strokeJoin) {\n    case 'miter': return 0;\n    case 'bevel': return 2;\n    default: return 1; // round\n  }\n}\n\n// Shape\n\n// Note: ART has a notion of width and height on Shape but AFAIK it's a noop in\n// ReactART.\n\nclass Shape extends React.Component {\n  render() {\n    var props = this.props;\n    var path = props.d || childrenAsString(props.children);\n    var d = (path instanceof Path ? path : new Path(path)).toJSON();\n    return (\n      <NativeShape\n        fill={extractBrush(props.fill, props)}\n        opacity={extractOpacity(props)}\n        stroke={extractColor(props.stroke)}\n        strokeCap={extractStrokeCap(props.strokeCap)}\n        strokeDash={props.strokeDash || null}\n        strokeJoin={extractStrokeJoin(props.strokeJoin)}\n        strokeWidth={extractNumber(props.strokeWidth, 1)}\n        transform={extractTransform(props)}\n\n        d={d}\n      />\n    );\n  }\n}\n\n// Text\n\nvar cachedFontObjectsFromString = {};\n\nvar fontFamilyPrefix = /^[\\s\"']*/;\nvar fontFamilySuffix = /[\\s\"']*$/;\n\nfunction extractSingleFontFamily(fontFamilyString) {\n  // ART on the web allows for multiple font-families to be specified.\n  // For compatibility, we extract the first font-family, hoping\n  // we'll get a match.\n  return fontFamilyString.split(',')[0]\n         .replace(fontFamilyPrefix, '')\n         .replace(fontFamilySuffix, '');\n}\n\nfunction parseFontString(font) {\n  if (cachedFontObjectsFromString.hasOwnProperty(font)) {\n    return cachedFontObjectsFromString[font];\n  }\n  var regexp = /^\\s*((?:(?:normal|bold|italic)\\s+)*)(?:(\\d+(?:\\.\\d+)?)[ptexm\\%]*(?:\\s*\\/.*?)?\\s+)?\\s*\\\"?([^\\\"]*)/i;\n  var match = regexp.exec(font);\n  if (!match) {\n    return null;\n  }\n  var fontFamily = extractSingleFontFamily(match[3]);\n  var fontSize = +match[2] || 12;\n  var isBold = /bold/.exec(match[1]);\n  var isItalic = /italic/.exec(match[1]);\n  cachedFontObjectsFromString[font] = {\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    fontWeight: isBold ? 'bold' : 'normal',\n    fontStyle: isItalic ? 'italic' : 'normal',\n  };\n  return cachedFontObjectsFromString[font];\n}\n\nfunction extractFont(font) {\n  if (font == null) {\n    return null;\n  }\n  if (typeof font === 'string') {\n    return parseFontString(font);\n  }\n  var fontFamily = extractSingleFontFamily(font.fontFamily);\n  var fontSize = +font.fontSize || 12;\n  var fontWeight = font.fontWeight != null ? font.fontWeight.toString() : '400';\n  return {\n    // Normalize\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    fontWeight: fontWeight,\n    fontStyle: font.fontStyle,\n  };\n}\n\nvar newLine = /\\n/g;\nfunction extractFontAndLines(font, text) {\n  return { font: extractFont(font), lines: text.split(newLine) };\n}\n\nfunction extractAlignment(alignment) {\n  switch (alignment) {\n    case 'right':\n      return 1;\n    case 'center':\n      return 2;\n    default:\n      return 0;\n  }\n}\n\nclass Text extends React.Component {\n  render() {\n    var props = this.props;\n    var path = props.path;\n    var textPath = path ? (path instanceof Path ? path : new Path(path)).toJSON() : null;\n    var textFrame = extractFontAndLines(\n      props.font,\n      childrenAsString(props.children)\n    );\n    return (\n      <NativeText\n        fill={extractBrush(props.fill, props)}\n        opacity={extractOpacity(props)}\n        stroke={extractColor(props.stroke)}\n        strokeCap={extractStrokeCap(props.strokeCap)}\n        strokeDash={props.strokeDash || null}\n        strokeJoin={extractStrokeJoin(props.strokeJoin)}\n        strokeWidth={extractNumber(props.strokeWidth, 1)}\n        transform={extractTransform(props)}\n\n        alignment={extractAlignment(props.alignment)}\n        frame={textFrame}\n        path={textPath}\n      />\n    );\n  }\n}\n\n// Declarative fill type objects - API design not finalized\n\nfunction LinearGradient(stops, x1, y1, x2, y2) {\n  var type = LINEAR_GRADIENT;\n\n  if (arguments.length < 5) {\n    var angle = ((x1 == null) ? 270 : x1) * Math.PI / 180;\n\n    var x = Math.cos(angle);\n    var y = -Math.sin(angle);\n    var l = (Math.abs(x) + Math.abs(y)) / 2;\n\n    x *= l; y *= l;\n\n    x1 = 0.5 - x;\n    x2 = 0.5 + x;\n    y1 = 0.5 - y;\n    y2 = 0.5 + y;\n    this._bb = true;\n  } else {\n    this._bb = false;\n  }\n\n  var brushData = [type, +x1, +y1, +x2, +y2];\n  insertColorStopsIntoArray(stops, brushData, 5);\n  this._brush = brushData;\n}\n\nfunction RadialGradient(stops, fx, fy, rx, ry, cx, cy) {\n  if (ry == null) {\n    ry = rx;\n  }\n  if (cx == null) {\n    cx = fx;\n  }\n  if (cy == null) {\n    cy = fy;\n  }\n  if (fx == null) {\n    // As a convenience we allow the whole radial gradient to cover the\n    // bounding box. We should consider dropping this API.\n    fx = fy = rx = ry = cx = cy = 0.5;\n    this._bb = true;\n  } else {\n    this._bb = false;\n  }\n  // The ART API expects the radial gradient to be repeated at the edges.\n  // To simulate this we render the gradient twice as large and add double\n  // color stops. Ideally this API would become more restrictive so that this\n  // extra work isn't needed.\n  var brushData = [RADIAL_GRADIENT, +fx, +fy, +rx * 2, +ry * 2, +cx, +cy];\n  insertDoubleColorStopsIntoArray(stops, brushData, 7);\n  this._brush = brushData;\n}\n\nfunction Pattern(url, width, height, left, top) {\n  this._brush = [PATTERN, url, +left || 0, +top || 0, +width, +height];\n}\n\nvar ReactART = {\n  LinearGradient: LinearGradient,\n  RadialGradient: RadialGradient,\n  Pattern: Pattern,\n  Transform: Transform,\n  Path: Path,\n  Surface: Surface,\n  Group: Group,\n  ClippingRectangle: ClippingRectangle,\n  Shape: Shape,\n  Text: Text,\n};\n\nmodule.exports = ReactART;\n"]}