{"version":3,"sources":["node_modules/haul/vendor/polyfills/error-guard.js"],"names":["_inGuard","_globalHandler","onError","e","ErrorUtils","setGlobalHandler","fun","getGlobalHandler","reportError","error","reportFatalError","applyWithGuard","context","args","apply","applyWithGuardIfNeeded","inGuard","guard","name","console","warn","guarded","arguments","global"],"mappings":";;;;;;;;;;;;;AAaA,GAAIA,UAAW,CAAf;;;;;;;AAOA,GAAIC,gBAAiB,QAASC,QAAT,CAAiBC,CAAjB,CAAoB;AACvC,KAAMA,EAAN;AACD,CAFD;;;;;;;;;;AAYA,GAAMC,YAAa;AACjBC,gBADiB,2BACAC,GADA,CACK;AACpBL,eAAiBK,GAAjB;AACD,CAHgB;AAIjBC,gBAJiB,4BAIE;AACjB,MAAON,eAAP;AACD,CANgB;AAOjBO,WAPiB,sBAOLC,KAPK,CAOE;AACjBR,gBAAkBA,eAAeQ,KAAf,CAAlB;AACD,CATgB;AAUjBC,gBAViB,2BAUAD,KAVA,CAUO;AACtBR,gBAAkBA,eAAeQ,KAAf,CAAsB,IAAtB,CAAlB;AACD,CAZgB;AAajBE,cAbiB,yBAaFL,GAbE,CAaGM,OAbH,CAaYC,IAbZ,CAakB;AACjC,GAAI;AACFb;AACA,MAAOM,KAAIQ,KAAJ,CAAUF,OAAV,CAAmBC,IAAnB,CAAP;AACD,CAAC,MAAOV,CAAP,CAAU;AACVC,WAAWI,WAAX,CAAuBL,CAAvB;AACD,CALD,OAKU;AACRH;AACD;AACD,MAAO,KAAP;AACD,CAvBgB;AAwBjBe,sBAxBiB,iCAwBMT,GAxBN,CAwBWM,OAxBX,CAwBoBC,IAxBpB,CAwB0B;AACzC,GAAIT,WAAWY,OAAX,EAAJ,CAA0B;AACxB,MAAOV,KAAIQ,KAAJ,CAAUF,OAAV,CAAmBC,IAAnB,CAAP;AACD,CAFD,IAEO;AACLT,WAAWO,cAAX,CAA0BL,GAA1B,CAA+BM,OAA/B,CAAwCC,IAAxC;AACD;AACD,MAAO,KAAP;AACD,CA/BgB;AAgCjBG,OAhCiB,mBAgCP;AACR,MAAOhB,SAAP;AACD,CAlCgB;AAmCjBiB,KAnCiB,gBAmCXX,GAnCW,CAmCNY,IAnCM,CAmCAN,OAnCA,CAmCS;AACxB,GAAI,MAAON,IAAP,GAAe,UAAnB,CAA+B;AAC7Ba,QAAQC,IAAR,CAAa,qDAAb,CAAoEd,GAApE;AACA,MAAO,KAAP;AACD;AACDY,KAAOA,MAAQZ,IAAIY,IAAZ,EAAoB,mBAA3B;AACA,QAASG,QAAT,EAAmB;AACjB;AACEjB,WAAWO,cAAX;AACEL,GADF;AAEEM,SAAW,IAFb;AAGEU,SAHF;AAIE,IAJF;AAKEJ,IALF,CADF;;;AASD;;AAED,MAAOG,QAAP;AACD,CAtDgB,CAAnB;;;AAyDAE,OAAOnB,UAAP,CAAoBA,UAApB,C,0GA5EIJ,Q,gJAOAC,c,sJAYEG,U","file":"error-guard.js","sourceRoot":"/home/phz/workspace/brimitives/storybooks/native","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @polyfill\n */\n\n/* eslint-disable strict */\n\nlet _inGuard = 0;\n\n/**\n * This is the error handler that is called when we encounter an exception\n * when loading a module. This will report any errors encountered before\n * ExceptionsManager is configured.\n */\nlet _globalHandler = function onError(e) {\n  throw e;\n};\n\n/**\n * The particular require runtime that we are using looks for a global\n * `ErrorUtils` object and if it exists, then it requires modules with the\n * error handler specified via ErrorUtils.setGlobalHandler by calling the\n * require function with applyWithGuard. Since the require module is loaded\n * before any of the modules, this ErrorUtils must be defined (and the handler\n * set) globally before requiring anything.\n */\nconst ErrorUtils = {\n  setGlobalHandler(fun) {\n    _globalHandler = fun;\n  },\n  getGlobalHandler() {\n    return _globalHandler;\n  },\n  reportError(error) {\n    _globalHandler && _globalHandler(error);\n  },\n  reportFatalError(error) {\n    _globalHandler && _globalHandler(error, true);\n  },\n  applyWithGuard(fun, context, args) {\n    try {\n      _inGuard++;\n      return fun.apply(context, args);\n    } catch (e) {\n      ErrorUtils.reportError(e);\n    } finally {\n      _inGuard--;\n    }\n    return null;\n  },\n  applyWithGuardIfNeeded(fun, context, args) {\n    if (ErrorUtils.inGuard()) {\n      return fun.apply(context, args);\n    } else {\n      ErrorUtils.applyWithGuard(fun, context, args);\n    }\n    return null;\n  },\n  inGuard() {\n    return _inGuard;\n  },\n  guard(fun, name, context) {\n    if (typeof fun !== 'function') {\n      console.warn('A function must be passed to ErrorUtils.guard, got ', fun);\n      return null;\n    }\n    name = name || fun.name || '<generated guard>';\n    function guarded() {\n      return (\n        ErrorUtils.applyWithGuard(\n          fun,\n          context || this,\n          arguments,\n          null,\n          name\n        )\n      );\n    }\n\n    return guarded;\n  },\n};\n\nglobal.ErrorUtils = ErrorUtils;\n"]}