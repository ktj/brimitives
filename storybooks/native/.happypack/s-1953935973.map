{"version":3,"sources":["node_modules/react-native/Libraries/vendor/core/toIterator.js"],"names":["KIND_KEY","KIND_VALUE","KIND_KEY_VAL","ITERATOR_SYMBOL","Symbol","iterator","toIterator","Array","prototype","String","ArrayIterator","array","kind","isArray","TypeError","_iteratedObject","_kind","_nextIndex","createIterResultObject","undefined","len","length","index","StringIterator","string","_iteratedString","s","ret","first","charCodeAt","second","value","done","object","module","exports"],"mappings":"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","file":"toIterator.js","sourceRoot":"/home/phz/workspace/brimitives/storybooks/native","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule toIterator\n */\n'use strict';\n\n/**\n * Given an object `toIterator` will return the itrator for that object. If the\n * object has a `Symbol.iterator` method we just call that. Otherwise we\n * implement the ES6 `Array` and `String` Iterator.\n */\n\n/**\n * Constants\n */\n\nvar KIND_KEY = 'key';\nvar KIND_VALUE = 'value';\nvar KIND_KEY_VAL = 'key+value';\n/*global Symbol: true*/\nvar ITERATOR_SYMBOL = (typeof Symbol === 'function')\n    ? Symbol.iterator\n    : '@@iterator';\n\nvar toIterator = (function() {\n  if (!(Array.prototype[ITERATOR_SYMBOL] &&\n        String.prototype[ITERATOR_SYMBOL])) {\n    // IIFE to avoid creating classes for no reason because of hoisting.\n    return (function() {\n      class ArrayIterator {\n        // 22.1.5.1 CreateArrayIterator Abstract Operation\n        constructor(array, kind) {\n          if (!Array.isArray(array)) {\n            throw new TypeError('Object is not an Array');\n          }\n          this._iteratedObject = array;\n          this._kind = kind;\n          this._nextIndex = 0;\n        }\n\n        // 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n        next() {\n          if (!this instanceof ArrayIterator) {\n            throw new TypeError('Object is not an ArrayIterator');\n          }\n\n          if (this._iteratedObject == null) {\n            return createIterResultObject(undefined, true);\n          }\n\n          var array = this._iteratedObject;\n          var len = this._iteratedObject.length;\n          var index = this._nextIndex;\n          var kind = this._kind;\n\n          if (index >= len) {\n            this._iteratedObject = undefined;\n            return createIterResultObject(undefined, true);\n          }\n\n          this._nextIndex = index + 1;\n\n          if (kind === KIND_KEY) {\n            return createIterResultObject(index, false);\n          } else if (kind === KIND_VALUE) {\n            return createIterResultObject(array[index], false);\n          } else if (kind === KIND_KEY_VAL) {\n            return createIterResultObject([index, array[index]], false);\n          }\n        }\n\n        // 22.1.5.2.2 %ArrayIteratorPrototype%[@@iterator]()\n        '@@iterator'() {\n          return this;\n        }\n      }\n\n      class StringIterator {\n        // 21.1.5.1 CreateStringIterator Abstract Operation\n        constructor(string) {\n          if (typeof string !== 'string') {\n            throw new TypeError('Object is not a string');\n          }\n          this._iteratedString = string;\n          this._nextIndex = 0;\n        }\n\n        // 21.1.5.2.1 %StringIteratorPrototype%.next()\n        next() {\n          if (!this instanceof StringIterator) {\n            throw new TypeError('Object is not a StringIterator');\n          }\n\n          if (this._iteratedString == null) {\n            return createIterResultObject(undefined, true);\n          }\n\n          var index = this._nextIndex;\n          var s = this._iteratedString;\n          var len = s.length;\n\n          if (index >= len) {\n            this._iteratedString = undefined;\n            return createIterResultObject(undefined, true);\n          }\n\n          var ret;\n          var first = s.charCodeAt(index);\n\n          if (first < 0xD800 || first > 0xDBFF || index + 1 === len) {\n            ret = s[index];\n          } else {\n            var second = s.charCodeAt(index + 1);\n            if (second < 0xDC00 || second > 0xDFFF) {\n              ret = s[index];\n            } else {\n              ret = s[index] + s[index + 1];\n            }\n          }\n\n          this._nextIndex = index + ret.length;\n\n          return createIterResultObject(ret, false);\n        }\n\n        // 21.1.5.2.2 %StringIteratorPrototype%[@@ITERATOR_SYMBOL]()\n        '@@iterator'() {\n          return this;\n        }\n      }\n\n      // 7.4.7 createIterResultObject(value, done)\n      function createIterResultObject(value, done) {\n        return {value: value, done: done};\n      }\n\n      return function(object, kind) {\n        if (typeof object === 'string') {\n          return new StringIterator(object);\n        } else if (Array.isArray(object)) {\n          return new ArrayIterator(object, kind || KIND_VALUE);\n        } else {\n          return object[ITERATOR_SYMBOL]();\n        }\n      };\n    })();\n  } else {\n    return function(object) {\n      return object[ITERATOR_SYMBOL]();\n    };\n  }\n})();\n\n/**\n * Export constants\n */\n\nObject.assign(toIterator, {\n  KIND_KEY,\n  KIND_VALUE,\n  KIND_KEY_VAL,\n  ITERATOR_SYMBOL\n});\n\nmodule.exports = toIterator;\n"]}