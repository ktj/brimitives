{"version":3,"sources":["node_modules/react-native/Libraries/Components/ViewPager/ViewPagerAndroid.android.js"],"names":["React","require","PropTypes","ReactNative","UIManager","ViewPropTypes","dismissKeyboard","requireNativeComponent","VIEWPAGER_REF","ViewPagerAndroid","getInnerViewNode","_childrenWithOverridenStyle","_onPageScroll","_onPageScrollStateChanged","_onPageSelected","setPage","setPageWithoutAnimation","props","initialPage","refs","Children","map","children","child","newProps","style","position","left","top","right","bottom","width","undefined","height","collapsable","type","displayName","console","warn","createElement","e","onPageScroll","keyboardDismissMode","onPageScrollStateChanged","nativeEvent","pageScrollState","onPageSelected","selectedPage","dispatchViewManagerCommand","findNodeHandle","AndroidViewPager","Commands","Component","propTypes","number","func","pageMargin","oneOf","scrollEnabled","bool","peekEnabled","NativeAndroidViewPager","module","exports"],"mappings":"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","file":"ViewPagerAndroid.android.js","sourceRoot":"/home/phz/workspace/brimitives/storybooks/native","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ViewPagerAndroid\n * @flow\n */\n'use strict';\n\nvar React = require('React');\nvar PropTypes = require('prop-types');\nvar ReactNative = require('ReactNative');\nvar UIManager = require('UIManager');\nvar ViewPropTypes = require('ViewPropTypes');\n\nvar dismissKeyboard = require('dismissKeyboard');\nvar requireNativeComponent = require('requireNativeComponent');\n\nvar VIEWPAGER_REF = 'viewPager';\n\ntype Event = Object;\n\nexport type ViewPagerScrollState = $Enum<{\n  idle: string,\n  dragging: string,\n  settling: string,\n}>;\n\n/**\n * Container that allows to flip left and right between child views. Each\n * child view of the `ViewPagerAndroid` will be treated as a separate page\n * and will be stretched to fill the `ViewPagerAndroid`.\n *\n * It is important all children are `<View>`s and not composite components.\n * You can set style properties like `padding` or `backgroundColor` for each\n * child.\n *\n * Example:\n *\n * ```\n * render: function() {\n *   return (\n *     <ViewPagerAndroid\n *       style={styles.viewPager}\n *       initialPage={0}>\n *       <View style={styles.pageStyle}>\n *         <Text>First page</Text>\n *       </View>\n *       <View style={styles.pageStyle}>\n *         <Text>Second page</Text>\n *       </View>\n *     </ViewPagerAndroid>\n *   );\n * }\n *\n * ...\n *\n * var styles = {\n *   ...\n *   pageStyle: {\n *     alignItems: 'center',\n *     padding: 20,\n *   }\n * }\n * ```\n */\nclass ViewPagerAndroid extends React.Component {\n  props: {\n    initialPage?: number,\n    onPageScroll?: Function,\n    onPageScrollStateChanged?: Function,\n    onPageSelected?: Function,\n    pageMargin?: number,\n    peekEnabled?: boolean,\n    keyboardDismissMode?: 'none' | 'on-drag',\n    scrollEnabled?: boolean,\n  };\n\n  static propTypes = {\n    ...ViewPropTypes,\n    /**\n     * Index of initial page that should be selected. Use `setPage` method to\n     * update the page, and `onPageSelected` to monitor page changes\n     */\n    initialPage: PropTypes.number,\n\n    /**\n     * Executed when transitioning between pages (ether because of animation for\n     * the requested page change or when user is swiping/dragging between pages)\n     * The `event.nativeEvent` object for this callback will carry following data:\n     *  - position - index of first page from the left that is currently visible\n     *  - offset - value from range [0,1) describing stage between page transitions.\n     *    Value x means that (1 - x) fraction of the page at \"position\" index is\n     *    visible, and x fraction of the next page is visible.\n     */\n    onPageScroll: PropTypes.func,\n\n    /**\n     * Function called when the page scrolling state has changed.\n     * The page scrolling state can be in 3 states:\n     * - idle, meaning there is no interaction with the page scroller happening at the time\n     * - dragging, meaning there is currently an interaction with the page scroller\n     * - settling, meaning that there was an interaction with the page scroller, and the\n     *   page scroller is now finishing it's closing or opening animation\n     */\n    onPageScrollStateChanged: PropTypes.func,\n\n    /**\n     * This callback will be called once ViewPager finish navigating to selected page\n     * (when user swipes between pages). The `event.nativeEvent` object passed to this\n     * callback will have following fields:\n     *  - position - index of page that has been selected\n     */\n    onPageSelected: PropTypes.func,\n\n    /**\n     * Blank space to show between pages. This is only visible while scrolling, pages are still\n     * edge-to-edge.\n     */\n    pageMargin: PropTypes.number,\n\n    /**\n     * Determines whether the keyboard gets dismissed in response to a drag.\n     *   - 'none' (the default), drags do not dismiss the keyboard.\n     *   - 'on-drag', the keyboard is dismissed when a drag begins.\n     */\n    keyboardDismissMode: PropTypes.oneOf([\n      'none', // default\n      'on-drag',\n    ]),\n\n    /**\n    * When false, the content does not scroll.\n    * The default value is true.\n    */\n    scrollEnabled: PropTypes.bool,\n\n    /**\n     * Whether enable showing peekFraction or not. If this is true, the preview of\n     * last and next page will show in current screen. Defaults to false.\n     */\n     peekEnabled: PropTypes.bool,\n  };\n\n  componentDidMount() {\n    if (this.props.initialPage != null) {\n      this.setPageWithoutAnimation(this.props.initialPage);\n    }\n  }\n\n  getInnerViewNode = (): ReactComponent => {\n    return this.refs[VIEWPAGER_REF].getInnerViewNode();\n  };\n\n  _childrenWithOverridenStyle = (): Array => {\n    // Override styles so that each page will fill the parent. Native component\n    // will handle positioning of elements, so it's not important to offset\n    // them correctly.\n    return React.Children.map(this.props.children, function(child) {\n      if (!child) {\n        return null;\n      }\n      var newProps = {\n        ...child.props,\n        style: [child.props.style, {\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0,\n          width: undefined,\n          height: undefined,\n        }],\n        collapsable: false,\n      };\n      if (child.type &&\n          child.type.displayName &&\n          (child.type.displayName !== 'RCTView') &&\n          (child.type.displayName !== 'View')) {\n        console.warn('Each ViewPager child must be a <View>. Was ' + child.type.displayName);\n      }\n      return React.createElement(child.type, newProps);\n    });\n  };\n\n  _onPageScroll = (e: Event) => {\n    if (this.props.onPageScroll) {\n      this.props.onPageScroll(e);\n    }\n    if (this.props.keyboardDismissMode === 'on-drag') {\n      dismissKeyboard();\n    }\n  };\n\n  _onPageScrollStateChanged = (e: Event) => {\n    if (this.props.onPageScrollStateChanged) {\n      this.props.onPageScrollStateChanged(e.nativeEvent.pageScrollState);\n    }\n  };\n\n  _onPageSelected = (e: Event) => {\n    if (this.props.onPageSelected) {\n      this.props.onPageSelected(e);\n    }\n  };\n\n  /**\n   * A helper function to scroll to a specific page in the ViewPager.\n   * The transition between pages will be animated.\n   */\n  setPage = (selectedPage: number) => {\n    UIManager.dispatchViewManagerCommand(\n      ReactNative.findNodeHandle(this),\n      UIManager.AndroidViewPager.Commands.setPage,\n      [selectedPage],\n    );\n  };\n\n  /**\n   * A helper function to scroll to a specific page in the ViewPager.\n   * The transition between pages will *not* be animated.\n   */\n  setPageWithoutAnimation = (selectedPage: number) => {\n    UIManager.dispatchViewManagerCommand(\n      ReactNative.findNodeHandle(this),\n      UIManager.AndroidViewPager.Commands.setPageWithoutAnimation,\n      [selectedPage],\n    );\n  };\n\n  render() {\n    return (\n      <NativeAndroidViewPager\n        {...this.props}\n        ref={VIEWPAGER_REF}\n        style={this.props.style}\n        onPageScroll={this._onPageScroll}\n        onPageScrollStateChanged={this._onPageScrollStateChanged}\n        onPageSelected={this._onPageSelected}\n        children={this._childrenWithOverridenStyle()}\n      />\n    );\n  }\n}\n\nvar NativeAndroidViewPager = requireNativeComponent('AndroidViewPager', ViewPagerAndroid);\n\nmodule.exports = ViewPagerAndroid;\n"]}