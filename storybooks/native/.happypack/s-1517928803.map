{"version":3,"sources":["node_modules/react-native/Libraries/vendor/core/_shouldPolyfillES6Collection.js"],"names":["_shouldActuallyPolyfillES6Collection","collectionName","Collection","global","Symbol","proto","prototype","clear","size","keys","forEach","cache","_shouldPolyfillES6Collection","result","undefined","module","exports"],"mappings":";;;;;;;;;;;;AAYA;;;;;;AAMA,QAASA,qCAAT,CAA8CC,cAA9C,CAA+E;AAC7E,GAAIC,YAAaC,OAAOF,cAAP,CAAjB;AACA,GAAIC,YAAc,IAAlB,CAAwB;AACtB,MAAO,KAAP;AACD;;;;;;AAMD,GAAI,MAAOC,QAAOC,MAAd,GAAyB,UAA7B,CAAyC;AACvC,MAAO,KAAP;AACD;;AAED,GAAIC,OAAQH,WAAWI,SAAvB;;;;;AAKA,MAAOJ,aAAc,IAAd;AACL,MAAOA,WAAP,GAAsB,UADjB;AAEL,MAAOG,OAAME,KAAb,GAAuB,UAFlB;AAGL,GAAIL,WAAJ,GAAiBM,IAAjB,GAA0B,CAHrB;AAIL,MAAOH,OAAMI,IAAb,GAAsB,UAJjB;AAKL,MAAOJ,OAAMK,OAAb,GAAyB,UAL3B;AAMD;;AAED,GAAMC,OAAkC,EAAxC;;;;;;;;AAQA,QAASC,6BAAT,CAAsCX,cAAtC,CAA8D;AAC1D,GAAIY,QAASF,MAAMV,cAAN,CAAb;AACA,GAAIY,SAAWC,SAAf,CAA0B;AACxB,MAAOD,OAAP;AACD;;AAEDA,OAASb,qCAAqCC,cAArC,CAAT;AACAU,MAAMV,cAAN,EAAwBY,MAAxB;AACA,MAAOA,OAAP;AACH;;AAEDE,OAAOC,OAAP,CAAiBJ,4BAAjB,C,0GA9CSZ,oC,0MA2BHW,K,2KAQGC,4B","file":"_shouldPolyfillES6Collection.js","sourceRoot":"/home/phz/workspace/brimitives/storybooks/native","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule _shouldPolyfillES6Collection\n * @preventMunge\n * @flow\n */\n'use strict';\n\n/**\n * Checks whether a collection name (e.g. \"Map\" or \"Set\") has a native polyfill\n * that is safe to be used.\n */\nfunction _shouldActuallyPolyfillES6Collection(collectionName: string): boolean {\n  var Collection = global[collectionName];\n  if (Collection == null) {\n    return true;\n  }\n\n  // The iterator protocol depends on `Symbol.iterator`. If a collection is\n  // implemented, but `Symbol` is not, it's going to break iteration because\n  // we'll be using custom \"@@iterator\" instead, which is not implemented on\n  // native collections.\n  if (typeof global.Symbol !== 'function') {\n    return true;\n  }\n\n  var proto = Collection.prototype;\n\n  // These checks are adapted from es6-shim: https://fburl.com/34437854\n  // NOTE: `isCallableWithoutNew` and `!supportsSubclassing` are not checked\n  // because they make debugging with \"break on exceptions\" difficult.\n  return Collection == null ||\n    typeof Collection !== 'function' ||\n    typeof proto.clear !== 'function' ||\n    new Collection().size !== 0 ||\n    typeof proto.keys !== 'function' ||\n    typeof proto.forEach !== 'function';\n}\n\nconst cache: { [name: string]: bool } = {};\n\n  /**\n   * Checks whether a collection name (e.g. \"Map\" or \"Set\") has a native polyfill\n   * that is safe to be used and caches this result.\n   * Make sure to make a first call to this function before a corresponding\n   * property on global was overriden in any way.\n   */\nfunction _shouldPolyfillES6Collection(collectionName: string) {\n    let result = cache[collectionName];\n    if (result !== undefined) {\n      return result;\n    }\n\n    result = _shouldActuallyPolyfillES6Collection(collectionName);\n    cache[collectionName] = result;\n    return result;\n}\n\nmodule.exports = _shouldPolyfillES6Collection;\n"]}